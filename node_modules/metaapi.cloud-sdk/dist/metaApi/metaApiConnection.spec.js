'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _metaApiConnection = require('./metaApiConnection');

var _metaApiConnection2 = _interopRequireDefault(_metaApiConnection);

var _notSynchronizedError = require('../clients/metaApi/notSynchronizedError');

var _notSynchronizedError2 = _interopRequireDefault(_notSynchronizedError);

var _randomstring = require('randomstring');

var _randomstring2 = _interopRequireDefault(_randomstring);

var _index = require('./historyFileManager/index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetaApiConnection}
 */
// eslint-disable-next-line max-statements
describe('MetaApiConnection', () => {

  let sandbox;
  let api;
  let account;
  let client = {
    getAccountInformation: () => {},
    getPositions: () => {},
    getPosition: () => {},
    getOrders: () => {},
    getOrder: () => {},
    getHistoryOrdersByTicket: () => {},
    getHistoryOrdersByPosition: () => {},
    getHistoryOrdersByTimeRange: () => {},
    getDealsByTicket: () => {},
    getDealsByPosition: () => {},
    getDealsByTimeRange: () => {},
    removeHistory: () => {},
    removeApplication: () => {},
    trade: () => {},
    reconnect: () => {},
    synchronize: () => true,
    ensureSubscribe: () => {},
    subscribeToMarketData: () => {},
    unsubscribeFromMarketData: () => {},
    addSynchronizationListener: () => {},
    addReconnectListener: () => {},
    removeSynchronizationListener: () => {},
    removeReconnectListener: () => {},
    getSymbols: () => {},
    getSymbolSpecification: () => {},
    getSymbolPrice: () => {},
    getCandle: () => {},
    getTick: () => {},
    getBook: () => {},
    saveUptime: () => {},
    waitSynchronized: () => {},
    unsubscribe: () => {}
  };

  let connectionRegistry = {
    connect: () => {},
    remove: () => {},
    application: 'MetaApi'
  };

  before(() => {
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(() => {
    account = {
      id: 'accountId',
      state: 'DEPLOYED',
      reload: () => {}
    };
    sandbox.stub(_index2.default.prototype, 'startUpdateJob').returns();
    api = new _metaApiConnection2.default(client, account, undefined, connectionRegistry);
  });

  afterEach(() => {
    sandbox.restore();
  });

  /**
   * @test {MetaApiConnection#getAccountInformation}
   */
  it('should retrieve account information', async () => {
    let accountInformation = {
      broker: 'True ECN Trading Ltd',
      currency: 'USD',
      server: 'ICMarketsSC-Demo',
      balance: 7319.9,
      equity: 7306.649913200001,
      margin: 184.1,
      freeMargin: 7120.22,
      leverage: 100,
      marginLevel: 3967.58283542
    };
    sandbox.stub(client, 'getAccountInformation').resolves(accountInformation);
    let actual = await api.getAccountInformation();
    actual.should.match(accountInformation);
    _sinon2.default.assert.calledWith(client.getAccountInformation, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getPositions}
   */
  it('should retrieve positions', async () => {
    let positions = [{
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    }];
    sandbox.stub(client, 'getPositions').resolves(positions);
    let actual = await api.getPositions();
    actual.should.match(positions);
    _sinon2.default.assert.calledWith(client.getPositions, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getPosition}
   */
  it('should retrieve position by id', async () => {
    let position = {
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    };
    sandbox.stub(client, 'getPosition').resolves(position);
    let actual = await api.getPosition('46214692');
    actual.should.match(position);
    _sinon2.default.assert.calledWith(client.getPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getOrders}
   */
  it('should retrieve orders', async () => {
    let orders = [{
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    }];
    sandbox.stub(client, 'getOrders').resolves(orders);
    let actual = await api.getOrders();
    actual.should.match(orders);
    _sinon2.default.assert.calledWith(client.getOrders, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getOrder}
   */
  it('should retrieve order by id', async () => {
    let order = {
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    };
    sandbox.stub(client, 'getOrder').resolves(order);
    let actual = await api.getOrder('46871284');
    actual.should.match(order);
    _sinon2.default.assert.calledWith(client.getOrder, 'accountId', '46871284');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTicket}
   */
  it('should retrieve history orders by ticket', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTicket').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByTicket('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByPosition}
   */
  it('should retrieve history orders by position', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByPosition').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByPosition('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTimeRange}
   */
  it('should retrieve history orders by time range', async () => {
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTimeRange').resolves(historyOrders);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getHistoryOrdersByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#getDealsByTicket}
   */
  it('should retrieve history deals by ticket', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTicket').resolves(deals);
    let actual = await api.getDealsByTicket('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByPosition}
   */
  it('should retrieve history deals by position', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByPosition').resolves(deals);
    let actual = await api.getDealsByPosition('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByTimeRange}
   */
  it('should retrieve history deals by time range', async () => {
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTimeRange').resolves(deals);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getDealsByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#removeHistory}
   */
  it('should remove history', async () => {
    sandbox.stub(client, 'removeHistory').resolves();
    sandbox.stub(api.historyStorage, 'clear').resolves();
    await api.removeHistory('app');
    _sinon2.default.assert.calledWith(client.removeHistory, 'accountId', 'app');
    _sinon2.default.assert.calledOnce(api.historyStorage.clear);
  });

  /**
   * @test {MetaApiConnection#removeApplication}
   */
  it('should remove application', async () => {
    sandbox.stub(client, 'removeApplication').resolves();
    sandbox.stub(api.historyStorage, 'clear').resolves();
    await api.removeApplication();
    _sinon2.default.assert.calledWith(client.removeApplication, 'accountId');
    _sinon2.default.assert.calledOnce(api.historyStorage.clear);
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order with relative SL/TP', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, { value: 0.1, units: 'RELATIVE_PRICE' }, { value: 2000, units: 'RELATIVE_POINTS' }, { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.1, stopLossUnits: 'RELATIVE_PRICE', takeProfit: 2000,
      takeProfitUnits: 'RELATIVE_POINTS', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketSellOrder}
   */
  it('should create market sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketSellOrder('GBPUSD', 0.07, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitBuyOrder}
   */
  it('should create limit buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitBuyOrder('GBPUSD', 0.07, 1.0, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitSellOrder}
   */
  it('should create limit sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitSellOrder('GBPUSD', 0.07, 1.5, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopBuyOrder}
   */
  it('should create stop buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopBuyOrder('GBPUSD', 0.07, 1.5, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopSellOrder}
   */
  it('should create stop sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopSellOrder('GBPUSD', 0.07, 1.0, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitBuyOrder}
   */
  it('should create stop limit buy order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitBuyOrder('GBPUSD', 0.07, 1.5, 1.4, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLimitPrice: 1.4, stopLoss: 0.9, takeProfit: 2.0,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitSellOrder}
   */
  it('should create stop limit sell order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitSellOrder('GBPUSD', 0.07, 1.0, 1.1, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLimitPrice: 1.1, stopLoss: 2.0, takeProfit: 0.9,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyPosition}
   */
  it('should modify position', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyPosition('46870472', 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_MODIFY',
      positionId: '46870472', stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#closePositionPartially}
   */
  it('should close position partially', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionPartially('46870472', 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_PARTIAL',
      positionId: '46870472', volume: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePosition}
   */
  it('should close position', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePosition('46870472', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_ID',
      positionId: '46870472', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closeBy}
   */
  it('should close position by an opposite one', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472',
      closeByPositionId: '46870482'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closeBy('46870472', '46870482', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_BY',
      positionId: '46870472', closeByPositionId: '46870482', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePositionsBySymbol}
   */
  it('should close positions by symbol', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionsBySymbol('EURUSD', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITIONS_CLOSE_SYMBOL',
      symbol: 'EURUSD', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyOrder}
   */
  it('should modify order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyOrder('46870472', 1.0, 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_MODIFY', orderId: '46870472',
      openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#cancelOrder}
   */
  it('should cancel order', async () => {
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.cancelOrder('46870472');
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_CANCEL', orderId: '46870472' }));
  });

  /**
   * @test {MetaApiConnection#reconnect}
   */
  it('should reconnect terminal', async () => {
    sandbox.stub(client, 'reconnect').resolves();
    await api.reconnect();
    _sinon2.default.assert.calledWith(client.reconnect, 'accountId');
  });

  /**
   * @test {MetaApiConnection#subscribe}
   */
  describe('ensure subscribe', () => {

    let clock;

    beforeEach(() => {
      clock = _sinon2.default.useFakeTimers({
        shouldAdvanceTime: true
      });
    });

    afterEach(async () => {
      clock.restore();
    });

    /**
     * @test {MetaApiConnection#subscribe}
     */
    it('should subscribe to terminal', async () => {
      sandbox.stub(client, 'ensureSubscribe').resolves();
      await api.subscribe();
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountId');
    });
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should not subscribe if connection is closed', async () => {
    const ensureSubscribeStub = sandbox.stub(client, 'ensureSubscribe').resolves();
    await api.close();
    await api.subscribe();
    _sinon2.default.assert.notCalled(ensureSubscribeStub);
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal from specified time', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry, new Date('2020-10-07T00:00:00.000Z'));
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-10-07T00:00:00.000Z'), new Date('2020-10-07T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#subscribeToMarketData}
   */
  it('should subscribe to market data', async () => {
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    let promise = api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }], 1);
    api.terminalState.onSymbolPricesUpdated('1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await promise;
    _sinon2.default.assert.calledWith(client.subscribeToMarketData, 'accountId', 1, 'EURUSD', [{ type: 'quotes' }]);
  });

  /**
   * @test {MetaApiConnection#unsubscribeFromMarketData}
   */
  it('should unsubscribe from market data', async () => {
    sandbox.stub(client, 'unsubscribeFromMarketData').resolves();
    await api.unsubscribeFromMarketData('EURUSD', [{ type: 'quotes' }], 1);
    _sinon2.default.assert.calledWith(client.unsubscribeFromMarketData, 'accountId', 1, 'EURUSD', [{ type: 'quotes' }]);
  });

  describe('onSubscriptionDowngrade', () => {

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should unsubscribe during market data subscription downgrade', async () => {
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('1:ps-mpa-1', 'EURUSD', undefined, [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.calledWith(api.unsubscribeFromMarketData, 'EURUSD', [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.notCalled(api.subscribeToMarketData);
    });

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should update market data subscription on downgrade', async () => {
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('1:ps-mpa-1', 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.calledWith(api.subscribeToMarketData, 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.notCalled(api.unsubscribeFromMarketData);
    });
  });

  /**
   * @test {MetaApiConnection#getSymbols}
   */
  it('should retrieve symbols', async () => {
    let symbols = ['EURUSD'];
    sandbox.stub(client, 'getSymbols').resolves(symbols);
    let actual = await api.getSymbols();
    actual.should.match(symbols);
    _sinon2.default.assert.calledWith(client.getSymbols, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getSymbolSpecification}
   */
  it('should retrieve symbol specification', async () => {
    let specification = {
      symbol: 'AUDNZD',
      tickSize: 0.00001,
      minVolume: 0.01,
      maxVolume: 100,
      volumeStep: 0.01
    };
    sandbox.stub(client, 'getSymbolSpecification').resolves(specification);
    let actual = await api.getSymbolSpecification('AUDNZD');
    actual.should.match(specification);
    _sinon2.default.assert.calledWith(client.getSymbolSpecification, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getSymbolPrice}
   */
  it('should retrieve symbol price', async () => {
    let price = {
      symbol: 'AUDNZD',
      bid: 1.05297,
      ask: 1.05309,
      profitTickValue: 0.59731,
      lossTickValue: 0.59736
    };
    sandbox.stub(client, 'getSymbolPrice').resolves(price);
    let actual = await api.getSymbolPrice('AUDNZD');
    actual.should.match(price);
    _sinon2.default.assert.calledWith(client.getSymbolPrice, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getCandle}
   */
  it('should retrieve current candle', async () => {
    let candle = {
      symbol: 'AUDNZD',
      timeframe: '15m',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      open: 1.03297,
      high: 1.06309,
      low: 1.02705,
      close: 1.043,
      tickVolume: 1435,
      spread: 17,
      volume: 345
    };
    sandbox.stub(client, 'getCandle').resolves(candle);
    let actual = await api.getCandle('AUDNZD', '15m');
    actual.should.match(candle);
    _sinon2.default.assert.calledWith(client.getCandle, 'accountId', 'AUDNZD', '15m');
  });

  /**
   * @test {MetaApiConnection#getTick}
   */
  it('should retrieve latest tick', async () => {
    let tick = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      bid: 1.05297,
      ask: 1.05309,
      last: 0.5298,
      volume: 0.13,
      side: 'buy'
    };
    sandbox.stub(client, 'getTick').resolves(tick);
    let actual = await api.getTick('AUDNZD');
    actual.should.match(tick);
    _sinon2.default.assert.calledWith(client.getTick, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getBook}
   */
  it('should retrieve latest order book', async () => {
    let book = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      book: [{
        type: 'BOOK_TYPE_SELL',
        price: 1.05309,
        volume: 5.67
      }, {
        type: 'BOOK_TYPE_BUY',
        price: 1.05297,
        volume: 3.45
      }]
    };
    sandbox.stub(client, 'getBook').resolves(book);
    let actual = await api.getBook('AUDNZD');
    actual.should.match(book);
    _sinon2.default.assert.calledWith(client.getBook, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#saveUptime}
   */
  it('should save uptime stats to the server', async () => {
    sandbox.stub(client, 'saveUptime').resolves();
    await api.saveUptime({ '1h': 100 });
    _sinon2.default.assert.calledWith(client.saveUptime, 'accountId', { '1h': 100 });
  });

  /**
   * @test {MetaApiConnection#terminalState}
   * @test {MetaApiConnection#historyStorage}
   */
  it('should initialize listeners, terminal state and history storage for accounts with user synch mode', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    _should2.default.exist(api.terminalState);
    _should2.default.exist(api.historyStorage);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.historyStorage);
  });

  /**
   * @test {MetaApiConnection#addSynchronizationListener}
   */
  it('should add synchronization listeners', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    let listener = {};
    api.addSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#removeSynchronizationListener}
   */
  it('should remove synchronization listeners', async () => {
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    let listener = {};
    api.removeSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should sychronize on connection', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should maintain synchronization if connection has failed', async () => {
    let stub = sandbox.stub(client, 'synchronize');
    stub.onFirstCall().throws(new Error('test error'));
    stub.onSecondCall().resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should not synchronize if connection is closed', async () => {
    let synchronizeStub = sandbox.stub(client, 'synchronize');
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.historyStorage.onHistoryOrderAdded('1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.close();
    await api.onConnected('1:ps-mpa-1', 1);
    _sinon2.default.assert.notCalled(synchronizeStub);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should restore market data subscriptions on synchronization', async () => {
    let callCount = 0;
    sandbox.stub(api.terminalState, 'price').callsFake(symbol => {
      callCount++;
      if (callCount === 6) {
        return undefined;
      }
      return { symbol };
    });
    await api.subscribeToMarketData('EURUSD');
    await api.subscribeToMarketData('AUDNZD');
    const subscribeStub = sandbox.stub(client, 'subscribeToMarketData').resolves();
    await api.onAccountInformationUpdated('1:ps-mpa-1', {});
    _sinon2.default.assert.callCount(subscribeStub, 1);
    _sinon2.default.assert.calledWith(subscribeStub, 'accountId', 1, 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#close}
   */
  it('should unsubscribe from events on close', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    sandbox.stub(client, 'unsubscribe').resolves();
    sandbox.stub(connectionRegistry, 'remove').returns();
    api = new _metaApiConnection2.default(client, { id: 'accountId' }, undefined, connectionRegistry);
    await api.close();
    _sinon2.default.assert.calledWith(client.unsubscribe, 'accountId');
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.historyStorage);
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'accountId');
  });

  describe('waitSynchronized', () => {

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should wait util synchronization complete', async () => {
      sandbox.stub(client, 'waitSynchronized').resolves();
      _sinon2.default.assert.match((await api.isSynchronized('1:ps-mpa-1')), false);
      (await api.isSynchronized()).should.equal(false);
      let promise = api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
        timeoutInSeconds: 1, intervalInMilliseconds: 10 });
      let startTime = Date.now();
      await _promise2.default.race([promise, new _promise2.default(res => setTimeout(res, 50))]);
      (Date.now() - startTime).should.be.approximately(50, 10);
      api.onOrderSynchronizationFinished('1:ps-mpa-1', 'synchronizationId');
      api.onDealSynchronizationFinished('1:ps-mpa-1', 'synchronizationId');
      startTime = Date.now();
      await promise;
      (Date.now() - startTime).should.be.approximately(10, 10);
      (await api.isSynchronized('1:ps-mpa-1', 'synchronizationId')).should.equal(true);
    });

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should time out waiting for synchronization complete', async () => {
      try {
        await api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
          timeoutInSeconds: 1, intervalInMilliseconds: 10 });
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
      (await api.isSynchronized('synchronizationId')).should.equal(false);
    });
  });

  /**
   * @test {MetaApiConnection#initialize}
   */
  it('should load data to history storage from disk', async () => {
    sandbox.stub(api.historyStorage, 'initialize').resolves();
    await api.initialize();
    _sinon2.default.assert.calledOnce(api.historyStorage.initialize);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should set synchronized false on disconnect', async () => {
    await api.onConnected('1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onDisconnected('1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should delete state if stream closed', async () => {
    await api.onConnected('1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onStreamClosed('1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL21ldGFBcGlDb25uZWN0aW9uLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImFjY291bnQiLCJjbGllbnQiLCJnZXRBY2NvdW50SW5mb3JtYXRpb24iLCJnZXRQb3NpdGlvbnMiLCJnZXRQb3NpdGlvbiIsImdldE9yZGVycyIsImdldE9yZGVyIiwiZ2V0SGlzdG9yeU9yZGVyc0J5VGlja2V0IiwiZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb24iLCJnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2UiLCJnZXREZWFsc0J5VGlja2V0IiwiZ2V0RGVhbHNCeVBvc2l0aW9uIiwiZ2V0RGVhbHNCeVRpbWVSYW5nZSIsInJlbW92ZUhpc3RvcnkiLCJyZW1vdmVBcHBsaWNhdGlvbiIsInRyYWRlIiwicmVjb25uZWN0Iiwic3luY2hyb25pemUiLCJlbnN1cmVTdWJzY3JpYmUiLCJzdWJzY3JpYmVUb01hcmtldERhdGEiLCJ1bnN1YnNjcmliZUZyb21NYXJrZXREYXRhIiwiYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIiLCJhZGRSZWNvbm5lY3RMaXN0ZW5lciIsInJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyIiwicmVtb3ZlUmVjb25uZWN0TGlzdGVuZXIiLCJnZXRTeW1ib2xzIiwiZ2V0U3ltYm9sU3BlY2lmaWNhdGlvbiIsImdldFN5bWJvbFByaWNlIiwiZ2V0Q2FuZGxlIiwiZ2V0VGljayIsImdldEJvb2siLCJzYXZlVXB0aW1lIiwid2FpdFN5bmNocm9uaXplZCIsInVuc3Vic2NyaWJlIiwiY29ubmVjdGlvblJlZ2lzdHJ5IiwiY29ubmVjdCIsInJlbW92ZSIsImFwcGxpY2F0aW9uIiwiYmVmb3JlIiwic2lub24iLCJjcmVhdGVTYW5kYm94IiwiYmVmb3JlRWFjaCIsImlkIiwic3RhdGUiLCJyZWxvYWQiLCJzdHViIiwiSGlzdG9yeUZpbGVNYW5hZ2VyIiwicHJvdG90eXBlIiwicmV0dXJucyIsIk1ldGFBcGlDb25uZWN0aW9uIiwidW5kZWZpbmVkIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwiYWNjb3VudEluZm9ybWF0aW9uIiwiYnJva2VyIiwiY3VycmVuY3kiLCJzZXJ2ZXIiLCJiYWxhbmNlIiwiZXF1aXR5IiwibWFyZ2luIiwiZnJlZU1hcmdpbiIsImxldmVyYWdlIiwibWFyZ2luTGV2ZWwiLCJyZXNvbHZlcyIsImFjdHVhbCIsInNob3VsZCIsIm1hdGNoIiwiYXNzZXJ0IiwiY2FsbGVkV2l0aCIsInBvc2l0aW9ucyIsInR5cGUiLCJzeW1ib2wiLCJtYWdpYyIsInRpbWUiLCJEYXRlIiwidXBkYXRlVGltZSIsIm9wZW5QcmljZSIsImN1cnJlbnRQcmljZSIsImN1cnJlbnRUaWNrVmFsdWUiLCJ2b2x1bWUiLCJzd2FwIiwicHJvZml0IiwiY29tbWlzc2lvbiIsImNsaWVudElkIiwic3RvcExvc3MiLCJ1bnJlYWxpemVkUHJvZml0IiwicmVhbGl6ZWRQcm9maXQiLCJwb3NpdGlvbiIsIm9yZGVycyIsInBsYXRmb3JtIiwiY3VycmVudFZvbHVtZSIsImNvbW1lbnQiLCJvcmRlciIsImhpc3RvcnlPcmRlcnMiLCJkb25lVGltZSIsInBvc2l0aW9uSWQiLCJzeW5jaHJvbml6aW5nIiwic3RhcnRUaW1lIiwibm93IiwiZW5kVGltZSIsImRlYWxzIiwiZW50cnlUeXBlIiwib3JkZXJJZCIsInByaWNlIiwiaGlzdG9yeVN0b3JhZ2UiLCJjYWxsZWRPbmNlIiwiY2xlYXIiLCJ0cmFkZVJlc3VsdCIsImVycm9yIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVNYXJrZXRCdXlPcmRlciIsImFjdGlvblR5cGUiLCJ0YWtlUHJvZml0IiwidmFsdWUiLCJ1bml0cyIsInN0b3BMb3NzVW5pdHMiLCJ0YWtlUHJvZml0VW5pdHMiLCJjcmVhdGVNYXJrZXRTZWxsT3JkZXIiLCJjcmVhdGVMaW1pdEJ1eU9yZGVyIiwiY3JlYXRlTGltaXRTZWxsT3JkZXIiLCJjcmVhdGVTdG9wQnV5T3JkZXIiLCJjcmVhdGVTdG9wU2VsbE9yZGVyIiwiY3JlYXRlU3RvcExpbWl0QnV5T3JkZXIiLCJzdG9wTGltaXRQcmljZSIsImNyZWF0ZVN0b3BMaW1pdFNlbGxPcmRlciIsIm1vZGlmeVBvc2l0aW9uIiwiY2xvc2VQb3NpdGlvblBhcnRpYWxseSIsImNsb3NlUG9zaXRpb24iLCJjbG9zZUJ5UG9zaXRpb25JZCIsImNsb3NlQnkiLCJjbG9zZVBvc2l0aW9uc0J5U3ltYm9sIiwibW9kaWZ5T3JkZXIiLCJjYW5jZWxPcmRlciIsImNsb2NrIiwidXNlRmFrZVRpbWVycyIsInNob3VsZEFkdmFuY2VUaW1lIiwic3Vic2NyaWJlIiwiZW5zdXJlU3Vic2NyaWJlU3R1YiIsImNsb3NlIiwibm90Q2FsbGVkIiwicmFuZG9tc3RyaW5nIiwib25IaXN0b3J5T3JkZXJBZGRlZCIsIm9uRGVhbEFkZGVkIiwicHJvbWlzZSIsInRlcm1pbmFsU3RhdGUiLCJvblN5bWJvbFByaWNlc1VwZGF0ZWQiLCJiaWQiLCJhc2siLCJvblN1YnNjcmlwdGlvbkRvd25ncmFkZWQiLCJpbnRlcnZhbEluTWlsbGlzZWNvbmRzIiwic3ltYm9scyIsInNwZWNpZmljYXRpb24iLCJ0aWNrU2l6ZSIsIm1pblZvbHVtZSIsIm1heFZvbHVtZSIsInZvbHVtZVN0ZXAiLCJwcm9maXRUaWNrVmFsdWUiLCJsb3NzVGlja1ZhbHVlIiwiY2FuZGxlIiwidGltZWZyYW1lIiwiYnJva2VyVGltZSIsIm9wZW4iLCJoaWdoIiwibG93IiwidGlja1ZvbHVtZSIsInNwcmVhZCIsInRpY2siLCJsYXN0Iiwic2lkZSIsImJvb2siLCJleGlzdCIsImxpc3RlbmVyIiwib25Db25uZWN0ZWQiLCJyZXMiLCJzZXRUaW1lb3V0Iiwib25GaXJzdENhbGwiLCJ0aHJvd3MiLCJFcnJvciIsIm9uU2Vjb25kQ2FsbCIsInN5bmNocm9uaXplU3R1YiIsImNhbGxDb3VudCIsImNhbGxzRmFrZSIsInN1YnNjcmliZVN0dWIiLCJvbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQiLCJpc1N5bmNocm9uaXplZCIsImVxdWFsIiwiYXBwbGljYXRpb25QYXR0ZXJuIiwic3luY2hyb25pemF0aW9uSWQiLCJ0aW1lb3V0SW5TZWNvbmRzIiwicmFjZSIsImJlIiwiYXBwcm94aW1hdGVseSIsIm9uT3JkZXJTeW5jaHJvbml6YXRpb25GaW5pc2hlZCIsIm9uRGVhbFN5bmNocm9uaXphdGlvbkZpbmlzaGVkIiwiZXJyIiwibmFtZSIsImluaXRpYWxpemUiLCJzeW5jaHJvbml6ZWQiLCJvbkRpc2Nvbm5lY3RlZCIsIm9uU3RyZWFtQ2xvc2VkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR0E7QUFDQUEsU0FBUyxtQkFBVCxFQUE4QixNQUFNOztBQUVsQyxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsR0FBSjtBQUNBLE1BQUlDLE9BQUo7QUFDQSxNQUFJQyxTQUFTO0FBQ1hDLDJCQUF1QixNQUFNLENBQUUsQ0FEcEI7QUFFWEMsa0JBQWMsTUFBTSxDQUFFLENBRlg7QUFHWEMsaUJBQWEsTUFBTSxDQUFFLENBSFY7QUFJWEMsZUFBVyxNQUFNLENBQUUsQ0FKUjtBQUtYQyxjQUFVLE1BQU0sQ0FBRSxDQUxQO0FBTVhDLDhCQUEwQixNQUFNLENBQUUsQ0FOdkI7QUFPWEMsZ0NBQTRCLE1BQU0sQ0FBRSxDQVB6QjtBQVFYQyxpQ0FBNkIsTUFBTSxDQUFFLENBUjFCO0FBU1hDLHNCQUFrQixNQUFNLENBQUUsQ0FUZjtBQVVYQyx3QkFBb0IsTUFBTSxDQUFFLENBVmpCO0FBV1hDLHlCQUFxQixNQUFNLENBQUUsQ0FYbEI7QUFZWEMsbUJBQWUsTUFBTSxDQUFFLENBWlo7QUFhWEMsdUJBQW1CLE1BQU0sQ0FBRSxDQWJoQjtBQWNYQyxXQUFPLE1BQU0sQ0FBRSxDQWRKO0FBZVhDLGVBQVcsTUFBTSxDQUFFLENBZlI7QUFnQlhDLGlCQUFhLE1BQU0sSUFoQlI7QUFpQlhDLHFCQUFpQixNQUFNLENBQUUsQ0FqQmQ7QUFrQlhDLDJCQUF1QixNQUFNLENBQUUsQ0FsQnBCO0FBbUJYQywrQkFBMkIsTUFBTSxDQUFFLENBbkJ4QjtBQW9CWEMsZ0NBQTRCLE1BQU0sQ0FBRSxDQXBCekI7QUFxQlhDLDBCQUFzQixNQUFNLENBQUUsQ0FyQm5CO0FBc0JYQyxtQ0FBK0IsTUFBTSxDQUFFLENBdEI1QjtBQXVCWEMsNkJBQXlCLE1BQU0sQ0FBRSxDQXZCdEI7QUF3QlhDLGdCQUFZLE1BQU0sQ0FBRSxDQXhCVDtBQXlCWEMsNEJBQXdCLE1BQU0sQ0FBRSxDQXpCckI7QUEwQlhDLG9CQUFnQixNQUFNLENBQUUsQ0ExQmI7QUEyQlhDLGVBQVcsTUFBTSxDQUFFLENBM0JSO0FBNEJYQyxhQUFTLE1BQU0sQ0FBRSxDQTVCTjtBQTZCWEMsYUFBUyxNQUFNLENBQUUsQ0E3Qk47QUE4QlhDLGdCQUFZLE1BQU0sQ0FBRSxDQTlCVDtBQStCWEMsc0JBQWtCLE1BQU0sQ0FBRSxDQS9CZjtBQWdDWEMsaUJBQWEsTUFBTSxDQUFFO0FBaENWLEdBQWI7O0FBbUNBLE1BQUlDLHFCQUFxQjtBQUN2QkMsYUFBUyxNQUFNLENBQUUsQ0FETTtBQUV2QkMsWUFBUSxNQUFNLENBQUUsQ0FGTztBQUd2QkMsaUJBQWE7QUFIVSxHQUF6Qjs7QUFNQUMsU0FBTyxNQUFNO0FBQ1h4QyxjQUFVeUMsZ0JBQU1DLGFBQU4sRUFBVjtBQUNELEdBRkQ7O0FBSUFDLGFBQVcsTUFBTTtBQUNmekMsY0FBVTtBQUNSMEMsVUFBSSxXQURJO0FBRVJDLGFBQU8sVUFGQztBQUdSQyxjQUFRLE1BQU0sQ0FBRTtBQUhSLEtBQVY7QUFLQTlDLFlBQVErQyxJQUFSLENBQWFDLGdCQUFtQkMsU0FBaEMsRUFBMkMsZ0JBQTNDLEVBQTZEQyxPQUE3RDtBQUNBakQsVUFBTSxJQUFJa0QsMkJBQUosQ0FBc0JoRCxNQUF0QixFQUE4QkQsT0FBOUIsRUFBdUNrRCxTQUF2QyxFQUFrRGhCLGtCQUFsRCxDQUFOO0FBQ0QsR0FSRDs7QUFVQWlCLFlBQVUsTUFBTTtBQUNkckQsWUFBUXNELE9BQVI7QUFDRCxHQUZEOztBQUlBOzs7QUFHQUMsS0FBRyxxQ0FBSCxFQUEwQyxZQUFZO0FBQ3BELFFBQUlDLHFCQUFxQjtBQUN2QkMsY0FBUSxzQkFEZTtBQUV2QkMsZ0JBQVUsS0FGYTtBQUd2QkMsY0FBUSxrQkFIZTtBQUl2QkMsZUFBUyxNQUpjO0FBS3ZCQyxjQUFRLGlCQUxlO0FBTXZCQyxjQUFRLEtBTmU7QUFPdkJDLGtCQUFZLE9BUFc7QUFRdkJDLGdCQUFVLEdBUmE7QUFTdkJDLG1CQUFhO0FBVFUsS0FBekI7QUFXQWpFLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLHVCQUFyQixFQUE4QytELFFBQTlDLENBQXVEVixrQkFBdkQ7QUFDQSxRQUFJVyxTQUFTLE1BQU1sRSxJQUFJRyxxQkFBSixFQUFuQjtBQUNBK0QsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CYixrQkFBcEI7QUFDQWYsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPQyxxQkFBL0IsRUFBc0QsV0FBdEQ7QUFDRCxHQWhCRDs7QUFrQkE7OztBQUdBbUQsS0FBRywyQkFBSCxFQUFnQyxZQUFZO0FBQzFDLFFBQUlpQixZQUFZLENBQUM7QUFDZjVCLFVBQUksVUFEVztBQUVmNkIsWUFBTSxtQkFGUztBQUdmQyxjQUFRLFFBSE87QUFJZkMsYUFBTyxJQUpRO0FBS2ZDLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBTFM7QUFNZkMsa0JBQVksSUFBSUQsSUFBSixDQUFTLDBCQUFULENBTkc7QUFPZkUsaUJBQVcsT0FQSTtBQVFmQyxvQkFBYyxPQVJDO0FBU2ZDLHdCQUFrQixDQVRIO0FBVWZDLGNBQVEsSUFWTztBQVdmQyxZQUFNLENBWFM7QUFZZkMsY0FBUSxDQUFDLGlCQVpNO0FBYWZDLGtCQUFZLENBQUMsSUFiRTtBQWNmQyxnQkFBVSxzQkFkSztBQWVmQyxnQkFBVSxPQWZLO0FBZ0JmQyx3QkFBa0IsQ0FBQyxpQkFoQko7QUFpQmZDLHNCQUFnQixDQUFDO0FBakJGLEtBQUQsQ0FBaEI7QUFtQkF6RixZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixjQUFyQixFQUFxQytELFFBQXJDLENBQThDTSxTQUE5QztBQUNBLFFBQUlMLFNBQVMsTUFBTWxFLElBQUlJLFlBQUosRUFBbkI7QUFDQThELFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQkcsU0FBcEI7QUFDQS9CLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT0UsWUFBL0IsRUFBNkMsV0FBN0M7QUFDRCxHQXhCRDs7QUEwQkE7OztBQUdBa0QsS0FBRyxnQ0FBSCxFQUFxQyxZQUFZO0FBQy9DLFFBQUltQyxXQUFXO0FBQ2I5QyxVQUFJLFVBRFM7QUFFYjZCLFlBQU0sbUJBRk87QUFHYkMsY0FBUSxRQUhLO0FBSWJDLGFBQU8sSUFKTTtBQUtiQyxZQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUxPO0FBTWJDLGtCQUFZLElBQUlELElBQUosQ0FBUywwQkFBVCxDQU5DO0FBT2JFLGlCQUFXLE9BUEU7QUFRYkMsb0JBQWMsT0FSRDtBQVNiQyx3QkFBa0IsQ0FUTDtBQVViQyxjQUFRLElBVks7QUFXYkMsWUFBTSxDQVhPO0FBWWJDLGNBQVEsQ0FBQyxpQkFaSTtBQWFiQyxrQkFBWSxDQUFDLElBYkE7QUFjYkMsZ0JBQVUsc0JBZEc7QUFlYkMsZ0JBQVUsT0FmRztBQWdCYkMsd0JBQWtCLENBQUMsaUJBaEJOO0FBaUJiQyxzQkFBZ0IsQ0FBQztBQWpCSixLQUFmO0FBbUJBekYsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsYUFBckIsRUFBb0MrRCxRQUFwQyxDQUE2Q3dCLFFBQTdDO0FBQ0EsUUFBSXZCLFNBQVMsTUFBTWxFLElBQUlLLFdBQUosQ0FBZ0IsVUFBaEIsQ0FBbkI7QUFDQTZELFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnFCLFFBQXBCO0FBQ0FqRCxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9HLFdBQS9CLEVBQTRDLFdBQTVDLEVBQXlELFVBQXpEO0FBQ0QsR0F4QkQ7O0FBMEJBOzs7QUFHQWlELEtBQUcsd0JBQUgsRUFBNkIsWUFBWTtBQUN2QyxRQUFJb0MsU0FBUyxDQUFDO0FBQ1ovQyxVQUFJLFVBRFE7QUFFWjZCLFlBQU0sc0JBRk07QUFHWjVCLGFBQU8sb0JBSEs7QUFJWjZCLGNBQVEsUUFKSTtBQUtaQyxhQUFPLE1BTEs7QUFNWmlCLGdCQUFVLEtBTkU7QUFPWmhCLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBUE07QUFRWkUsaUJBQVcsSUFSQztBQVNaQyxvQkFBYyxPQVRGO0FBVVpFLGNBQVEsSUFWSTtBQVdaVyxxQkFBZSxJQVhIO0FBWVpDLGVBQVM7QUFaRyxLQUFELENBQWI7QUFjQTlGLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFdBQXJCLEVBQWtDK0QsUUFBbEMsQ0FBMkN5QixNQUEzQztBQUNBLFFBQUl4QixTQUFTLE1BQU1sRSxJQUFJTSxTQUFKLEVBQW5CO0FBQ0E0RCxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0JzQixNQUFwQjtBQUNBbEQsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPSSxTQUEvQixFQUEwQyxXQUExQztBQUNELEdBbkJEOztBQXFCQTs7O0FBR0FnRCxLQUFHLDZCQUFILEVBQWtDLFlBQVk7QUFDNUMsUUFBSXdDLFFBQVE7QUFDVm5ELFVBQUksVUFETTtBQUVWNkIsWUFBTSxzQkFGSTtBQUdWNUIsYUFBTyxvQkFIRztBQUlWNkIsY0FBUSxRQUpFO0FBS1ZDLGFBQU8sTUFMRztBQU1WaUIsZ0JBQVUsS0FOQTtBQU9WaEIsWUFBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FQSTtBQVFWRSxpQkFBVyxJQVJEO0FBU1ZDLG9CQUFjLE9BVEo7QUFVVkUsY0FBUSxJQVZFO0FBV1ZXLHFCQUFlLElBWEw7QUFZVkMsZUFBUztBQVpDLEtBQVo7QUFjQTlGLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFVBQXJCLEVBQWlDK0QsUUFBakMsQ0FBMEM2QixLQUExQztBQUNBLFFBQUk1QixTQUFTLE1BQU1sRSxJQUFJTyxRQUFKLENBQWEsVUFBYixDQUFuQjtBQUNBMkQsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CMEIsS0FBcEI7QUFDQXRELG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT0ssUUFBL0IsRUFBeUMsV0FBekMsRUFBc0QsVUFBdEQ7QUFDRCxHQW5CRDs7QUFxQkE7OztBQUdBK0MsS0FBRywwQ0FBSCxFQUErQyxZQUFZO0FBQ3pELFFBQUl5QyxnQkFBZ0I7QUFDbEJBLHFCQUFlLENBQUM7QUFDZFYsa0JBQVUsc0JBREk7QUFFZE4sc0JBQWMsS0FGQTtBQUdkYSx1QkFBZSxDQUhEO0FBSWRJLGtCQUFVLElBQUlwQixJQUFKLENBQVMsMEJBQVQsQ0FKSTtBQUtkakMsWUFBSSxVQUxVO0FBTWQrQixlQUFPLElBTk87QUFPZGlCLGtCQUFVLEtBUEk7QUFRZE0sb0JBQVksVUFSRTtBQVNkckQsZUFBTyxvQkFUTztBQVVkNkIsZ0JBQVEsUUFWTTtBQVdkRSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQVhRO0FBWWRKLGNBQU0sZ0JBWlE7QUFhZFMsZ0JBQVE7QUFiTSxPQUFELENBREc7QUFnQmxCaUIscUJBQWU7QUFoQkcsS0FBcEI7QUFrQkFuRyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQiwwQkFBckIsRUFBaUQrRCxRQUFqRCxDQUEwRDhCLGFBQTFEO0FBQ0EsUUFBSTdCLFNBQVMsTUFBTWxFLElBQUlRLHdCQUFKLENBQTZCLFVBQTdCLENBQW5CO0FBQ0EwRCxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0IyQixhQUFwQjtBQUNBdkQsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPTSx3QkFBL0IsRUFBeUQsV0FBekQsRUFBc0UsVUFBdEU7QUFDRCxHQXZCRDs7QUF5QkE7OztBQUdBOEMsS0FBRyw0Q0FBSCxFQUFpRCxZQUFZO0FBQzNELFFBQUl5QyxnQkFBZ0I7QUFDbEJBLHFCQUFlLENBQUM7QUFDZFYsa0JBQVUsc0JBREk7QUFFZE4sc0JBQWMsS0FGQTtBQUdkYSx1QkFBZSxDQUhEO0FBSWRJLGtCQUFVLElBQUlwQixJQUFKLENBQVMsMEJBQVQsQ0FKSTtBQUtkakMsWUFBSSxVQUxVO0FBTWQrQixlQUFPLElBTk87QUFPZGlCLGtCQUFVLEtBUEk7QUFRZE0sb0JBQVksVUFSRTtBQVNkckQsZUFBTyxvQkFUTztBQVVkNkIsZ0JBQVEsUUFWTTtBQVdkRSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQVhRO0FBWWRKLGNBQU0sZ0JBWlE7QUFhZFMsZ0JBQVE7QUFiTSxPQUFELENBREc7QUFnQmxCaUIscUJBQWU7QUFoQkcsS0FBcEI7QUFrQkFuRyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQiw0QkFBckIsRUFBbUQrRCxRQUFuRCxDQUE0RDhCLGFBQTVEO0FBQ0EsUUFBSTdCLFNBQVMsTUFBTWxFLElBQUlTLDBCQUFKLENBQStCLFVBQS9CLENBQW5CO0FBQ0F5RCxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0IyQixhQUFwQjtBQUNBdkQsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPTywwQkFBL0IsRUFBMkQsV0FBM0QsRUFBd0UsVUFBeEU7QUFDRCxHQXZCRDs7QUF5QkE7OztBQUdBNkMsS0FBRyw4Q0FBSCxFQUFtRCxZQUFZO0FBQzdELFFBQUl5QyxnQkFBZ0I7QUFDbEJBLHFCQUFlLENBQUM7QUFDZFYsa0JBQVUsc0JBREk7QUFFZE4sc0JBQWMsS0FGQTtBQUdkYSx1QkFBZSxDQUhEO0FBSWRJLGtCQUFVLElBQUlwQixJQUFKLENBQVMsMEJBQVQsQ0FKSTtBQUtkakMsWUFBSSxVQUxVO0FBTWQrQixlQUFPLElBTk87QUFPZGlCLGtCQUFVLEtBUEk7QUFRZE0sb0JBQVksVUFSRTtBQVNkckQsZUFBTyxvQkFUTztBQVVkNkIsZ0JBQVEsUUFWTTtBQVdkRSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQVhRO0FBWWRKLGNBQU0sZ0JBWlE7QUFhZFMsZ0JBQVE7QUFiTSxPQUFELENBREc7QUFnQmxCaUIscUJBQWU7QUFoQkcsS0FBcEI7QUFrQkFuRyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQiw2QkFBckIsRUFBb0QrRCxRQUFwRCxDQUE2RDhCLGFBQTdEO0FBQ0EsUUFBSUksWUFBWSxJQUFJdkIsSUFBSixDQUFTQSxLQUFLd0IsR0FBTCxLQUFhLElBQXRCLENBQWhCO0FBQ0EsUUFBSUMsVUFBVSxJQUFJekIsSUFBSixFQUFkO0FBQ0EsUUFBSVYsU0FBUyxNQUFNbEUsSUFBSVUsMkJBQUosQ0FBZ0N5RixTQUFoQyxFQUEyQ0UsT0FBM0MsRUFBb0QsQ0FBcEQsRUFBdUQsR0FBdkQsQ0FBbkI7QUFDQW5DLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQjJCLGFBQXBCO0FBQ0F2RCxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9RLDJCQUEvQixFQUE0RCxXQUE1RCxFQUF5RXlGLFNBQXpFLEVBQW9GRSxPQUFwRixFQUE2RixDQUE3RixFQUFnRyxHQUFoRztBQUNELEdBekJEOztBQTJCQTs7O0FBR0EvQyxLQUFHLHlDQUFILEVBQThDLFlBQVk7QUFDeEQsUUFBSWdELFFBQVE7QUFDVkEsYUFBTyxDQUFDO0FBQ05qQixrQkFBVSxzQkFESjtBQUVORCxvQkFBWSxDQUFDLElBRlA7QUFHTm1CLG1CQUFXLGVBSEw7QUFJTjVELFlBQUksVUFKRTtBQUtOK0IsZUFBTyxJQUxEO0FBTU5pQixrQkFBVSxLQU5KO0FBT05hLGlCQUFTLFVBUEg7QUFRTlAsb0JBQVksVUFSTjtBQVNOUSxlQUFPLE9BVEQ7QUFVTnRCLGdCQUFRLENBVkY7QUFXTkQsY0FBTSxDQVhBO0FBWU5ULGdCQUFRLFFBWkY7QUFhTkUsY0FBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FiQTtBQWNOSixjQUFNLGVBZEE7QUFlTlMsZ0JBQVE7QUFmRixPQUFELENBREc7QUFrQlZpQixxQkFBZTtBQWxCTCxLQUFaO0FBb0JBbkcsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsa0JBQXJCLEVBQXlDK0QsUUFBekMsQ0FBa0RxQyxLQUFsRDtBQUNBLFFBQUlwQyxTQUFTLE1BQU1sRSxJQUFJVyxnQkFBSixDQUFxQixVQUFyQixDQUFuQjtBQUNBdUQsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9Ca0MsS0FBcEI7QUFDQTlELG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT1MsZ0JBQS9CLEVBQWlELFdBQWpELEVBQThELFVBQTlEO0FBQ0QsR0F6QkQ7O0FBMkJBOzs7QUFHQTJDLEtBQUcsMkNBQUgsRUFBZ0QsWUFBWTtBQUMxRCxRQUFJZ0QsUUFBUTtBQUNWQSxhQUFPLENBQUM7QUFDTmpCLGtCQUFVLHNCQURKO0FBRU5ELG9CQUFZLENBQUMsSUFGUDtBQUdObUIsbUJBQVcsZUFITDtBQUlONUQsWUFBSSxVQUpFO0FBS04rQixlQUFPLElBTEQ7QUFNTmlCLGtCQUFVLEtBTko7QUFPTmEsaUJBQVMsVUFQSDtBQVFOUCxvQkFBWSxVQVJOO0FBU05RLGVBQU8sT0FURDtBQVVOdEIsZ0JBQVEsQ0FWRjtBQVdORCxjQUFNLENBWEE7QUFZTlQsZ0JBQVEsUUFaRjtBQWFORSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQWJBO0FBY05KLGNBQU0sZUFkQTtBQWVOUyxnQkFBUTtBQWZGLE9BQUQsQ0FERztBQWtCVmlCLHFCQUFlO0FBbEJMLEtBQVo7QUFvQkFuRyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixvQkFBckIsRUFBMkMrRCxRQUEzQyxDQUFvRHFDLEtBQXBEO0FBQ0EsUUFBSXBDLFNBQVMsTUFBTWxFLElBQUlZLGtCQUFKLENBQXVCLFVBQXZCLENBQW5CO0FBQ0FzRCxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0JrQyxLQUFwQjtBQUNBOUQsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPVSxrQkFBL0IsRUFBbUQsV0FBbkQsRUFBZ0UsVUFBaEU7QUFDRCxHQXpCRDs7QUEyQkE7OztBQUdBMEMsS0FBRyw2Q0FBSCxFQUFrRCxZQUFZO0FBQzVELFFBQUlnRCxRQUFRO0FBQ1ZBLGFBQU8sQ0FBQztBQUNOakIsa0JBQVUsc0JBREo7QUFFTkQsb0JBQVksQ0FBQyxJQUZQO0FBR05tQixtQkFBVyxlQUhMO0FBSU41RCxZQUFJLFVBSkU7QUFLTitCLGVBQU8sSUFMRDtBQU1OaUIsa0JBQVUsS0FOSjtBQU9OYSxpQkFBUyxVQVBIO0FBUU5QLG9CQUFZLFVBUk47QUFTTlEsZUFBTyxPQVREO0FBVU50QixnQkFBUSxDQVZGO0FBV05ELGNBQU0sQ0FYQTtBQVlOVCxnQkFBUSxRQVpGO0FBYU5FLGNBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBYkE7QUFjTkosY0FBTSxlQWRBO0FBZU5TLGdCQUFRO0FBZkYsT0FBRCxDQURHO0FBa0JWaUIscUJBQWU7QUFsQkwsS0FBWjtBQW9CQW5HLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLHFCQUFyQixFQUE0QytELFFBQTVDLENBQXFEcUMsS0FBckQ7QUFDQSxRQUFJSCxZQUFZLElBQUl2QixJQUFKLENBQVNBLEtBQUt3QixHQUFMLEtBQWEsSUFBdEIsQ0FBaEI7QUFDQSxRQUFJQyxVQUFVLElBQUl6QixJQUFKLEVBQWQ7QUFDQSxRQUFJVixTQUFTLE1BQU1sRSxJQUFJYSxtQkFBSixDQUF3QnNGLFNBQXhCLEVBQW1DRSxPQUFuQyxFQUE0QyxDQUE1QyxFQUErQyxHQUEvQyxDQUFuQjtBQUNBbkMsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9Ca0MsS0FBcEI7QUFDQTlELG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT1csbUJBQS9CLEVBQW9ELFdBQXBELEVBQWlFc0YsU0FBakUsRUFBNEVFLE9BQTVFLEVBQXFGLENBQXJGLEVBQXdGLEdBQXhGO0FBQ0QsR0EzQkQ7O0FBNkJBOzs7QUFHQS9DLEtBQUcsdUJBQUgsRUFBNEIsWUFBWTtBQUN0Q3ZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLGVBQXJCLEVBQXNDK0QsUUFBdEM7QUFDQWxFLFlBQVErQyxJQUFSLENBQWE5QyxJQUFJMEcsY0FBakIsRUFBaUMsT0FBakMsRUFBMEN6QyxRQUExQztBQUNBLFVBQU1qRSxJQUFJYyxhQUFKLENBQWtCLEtBQWxCLENBQU47QUFDQTBCLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT1ksYUFBL0IsRUFBOEMsV0FBOUMsRUFBMkQsS0FBM0Q7QUFDQTBCLG9CQUFNNkIsTUFBTixDQUFhc0MsVUFBYixDQUF3QjNHLElBQUkwRyxjQUFKLENBQW1CRSxLQUEzQztBQUNELEdBTkQ7O0FBUUE7OztBQUdBdEQsS0FBRywyQkFBSCxFQUFnQyxZQUFZO0FBQzFDdkQsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsbUJBQXJCLEVBQTBDK0QsUUFBMUM7QUFDQWxFLFlBQVErQyxJQUFSLENBQWE5QyxJQUFJMEcsY0FBakIsRUFBaUMsT0FBakMsRUFBMEN6QyxRQUExQztBQUNBLFVBQU1qRSxJQUFJZSxpQkFBSixFQUFOO0FBQ0F5QixvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9hLGlCQUEvQixFQUFrRCxXQUFsRDtBQUNBeUIsb0JBQU02QixNQUFOLENBQWFzQyxVQUFiLENBQXdCM0csSUFBSTBHLGNBQUosQ0FBbUJFLEtBQTNDO0FBQ0QsR0FORDs7QUFRQTs7O0FBR0F0RCxLQUFHLGdDQUFILEVBQXFDLFlBQVk7QUFDL0MsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJQLGVBQVM7QUFITyxLQUFsQjtBQUtBekcsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEIrRCxRQUE5QixDQUF1QzRDLFdBQXZDO0FBQ0EsUUFBSTNDLFNBQVMsTUFBTWxFLElBQUlnSCxvQkFBSixDQUF5QixRQUF6QixFQUFtQyxJQUFuQyxFQUF5QyxHQUF6QyxFQUE4QyxHQUE5QyxFQUFtRCxFQUFDbkIsU0FBUyxTQUFWO0FBQ3BFUixnQkFBVSxzQkFEMEQsRUFBbkQsQ0FBbkI7QUFFQW5CLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnlDLFdBQXBCO0FBQ0FyRSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9jLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1Ed0IsZ0JBQU00QixLQUFOLENBQVksRUFBQzZDLFlBQVksZ0JBQWIsRUFBK0J4QyxRQUFRLFFBQXZDO0FBQzdEUSxjQUFRLElBRHFELEVBQy9DSyxVQUFVLEdBRHFDLEVBQ2hDNEIsWUFBWSxHQURvQixFQUNmckIsU0FBUyxTQURNLEVBQ0tSLFVBQVUsc0JBRGYsRUFBWixDQUFuRDtBQUVELEdBWkQ7O0FBY0E7OztBQUdBL0IsS0FBRyxvREFBSCxFQUF5RCxZQUFZO0FBQ25FLFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJZ0gsb0JBQUosQ0FBeUIsUUFBekIsRUFBbUMsSUFBbkMsRUFBeUMsRUFBQ0csT0FBTyxHQUFSLEVBQWFDLE9BQU8sZ0JBQXBCLEVBQXpDLEVBQ2pCLEVBQUNELE9BQU8sSUFBUixFQUFjQyxPQUFPLGlCQUFyQixFQURpQixFQUN3QixFQUFDdkIsU0FBUyxTQUFWLEVBQXFCUixVQUFVLHNCQUEvQixFQUR4QixDQUFuQjtBQUVBbkIsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CeUMsV0FBcEI7QUFDQXJFLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2MsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbUR3QixnQkFBTTRCLEtBQU4sQ0FBWSxFQUFDNkMsWUFBWSxnQkFBYixFQUErQnhDLFFBQVEsUUFBdkM7QUFDN0RRLGNBQVEsSUFEcUQsRUFDL0NLLFVBQVUsR0FEcUMsRUFDaEMrQixlQUFlLGdCQURpQixFQUNDSCxZQUFZLElBRGI7QUFFN0RJLHVCQUFpQixpQkFGNEMsRUFFekJ6QixTQUFTLFNBRmdCLEVBRUxSLFVBQVUsc0JBRkwsRUFBWixDQUFuRDtBQUdELEdBYkQ7O0FBZUE7OztBQUdBL0IsS0FBRyxpQ0FBSCxFQUFzQyxZQUFZO0FBQ2hELFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJdUgscUJBQUosQ0FBMEIsUUFBMUIsRUFBb0MsSUFBcEMsRUFBMEMsR0FBMUMsRUFBK0MsR0FBL0MsRUFBb0QsRUFBQzFCLFNBQVMsU0FBVjtBQUNyRVIsZ0JBQVUsc0JBRDJELEVBQXBELENBQW5CO0FBRUFuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLGlCQUFiLEVBQWdDeEMsUUFBUSxRQUF4QztBQUM3RFEsY0FBUSxJQURxRCxFQUMvQ0ssVUFBVSxHQURxQyxFQUNoQzRCLFlBQVksR0FEb0IsRUFDZnJCLFNBQVMsU0FETSxFQUNLUixVQUFVLHNCQURmLEVBQVosQ0FBbkQ7QUFFRCxHQVpEOztBQWNBOzs7QUFHQS9CLEtBQUcsK0JBQUgsRUFBb0MsWUFBWTtBQUM5QyxRQUFJdUQsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQlAsZUFBUztBQUhPLEtBQWxCO0FBS0F6RyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixPQUFyQixFQUE4QitELFFBQTlCLENBQXVDNEMsV0FBdkM7QUFDQSxRQUFJM0MsU0FBUyxNQUFNbEUsSUFBSXdILG1CQUFKLENBQXdCLFFBQXhCLEVBQWtDLElBQWxDLEVBQXdDLEdBQXhDLEVBQTZDLEdBQTdDLEVBQWtELEdBQWxELEVBQXVELEVBQUMzQixTQUFTLFNBQVY7QUFDeEVSLGdCQUFVLHNCQUQ4RCxFQUF2RCxDQUFuQjtBQUVBbkIsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CeUMsV0FBcEI7QUFDQXJFLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2MsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbUR3QixnQkFBTTRCLEtBQU4sQ0FBWSxFQUFDNkMsWUFBWSxzQkFBYjtBQUM3RHhDLGNBQVEsUUFEcUQsRUFDM0NRLFFBQVEsSUFEbUMsRUFDN0JILFdBQVcsR0FEa0IsRUFDYlEsVUFBVSxHQURHLEVBQ0U0QixZQUFZLEdBRGQsRUFDbUJyQixTQUFTLFNBRDVCO0FBRTdEUixnQkFBVSxzQkFGbUQsRUFBWixDQUFuRDtBQUdELEdBYkQ7O0FBZUE7OztBQUdBL0IsS0FBRyxnQ0FBSCxFQUFxQyxZQUFZO0FBQy9DLFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJeUgsb0JBQUosQ0FBeUIsUUFBekIsRUFBbUMsSUFBbkMsRUFBeUMsR0FBekMsRUFBOEMsR0FBOUMsRUFBbUQsR0FBbkQsRUFBd0QsRUFBQzVCLFNBQVMsU0FBVjtBQUN6RVIsZ0JBQVUsc0JBRCtELEVBQXhELENBQW5CO0FBRUFuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLHVCQUFiO0FBQzdEeEMsY0FBUSxRQURxRCxFQUMzQ1EsUUFBUSxJQURtQyxFQUM3QkgsV0FBVyxHQURrQixFQUNiUSxVQUFVLEdBREcsRUFDRTRCLFlBQVksR0FEZCxFQUNtQnJCLFNBQVMsU0FENUI7QUFFN0RSLGdCQUFVLHNCQUZtRCxFQUFaLENBQW5EO0FBR0QsR0FiRDs7QUFlQTs7O0FBR0EvQixLQUFHLDhCQUFILEVBQW1DLFlBQVk7QUFDN0MsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJQLGVBQVM7QUFITyxLQUFsQjtBQUtBekcsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEIrRCxRQUE5QixDQUF1QzRDLFdBQXZDO0FBQ0EsUUFBSTNDLFNBQVMsTUFBTWxFLElBQUkwSCxrQkFBSixDQUF1QixRQUF2QixFQUFpQyxJQUFqQyxFQUF1QyxHQUF2QyxFQUE0QyxHQUE1QyxFQUFpRCxHQUFqRCxFQUFzRCxFQUFDN0IsU0FBUyxTQUFWO0FBQ3ZFUixnQkFBVSxzQkFENkQsRUFBdEQsQ0FBbkI7QUFFQW5CLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnlDLFdBQXBCO0FBQ0FyRSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9jLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1Ed0IsZ0JBQU00QixLQUFOLENBQVksRUFBQzZDLFlBQVkscUJBQWI7QUFDN0R4QyxjQUFRLFFBRHFELEVBQzNDUSxRQUFRLElBRG1DLEVBQzdCSCxXQUFXLEdBRGtCLEVBQ2JRLFVBQVUsR0FERyxFQUNFNEIsWUFBWSxHQURkLEVBQ21CckIsU0FBUyxTQUQ1QjtBQUU3RFIsZ0JBQVUsc0JBRm1ELEVBQVosQ0FBbkQ7QUFHRCxHQWJEOztBQWVBOzs7QUFHQS9CLEtBQUcsK0JBQUgsRUFBb0MsWUFBWTtBQUM5QyxRQUFJdUQsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQlAsZUFBUztBQUhPLEtBQWxCO0FBS0F6RyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixPQUFyQixFQUE4QitELFFBQTlCLENBQXVDNEMsV0FBdkM7QUFDQSxRQUFJM0MsU0FBUyxNQUFNbEUsSUFBSTJILG1CQUFKLENBQXdCLFFBQXhCLEVBQWtDLElBQWxDLEVBQXdDLEdBQXhDLEVBQTZDLEdBQTdDLEVBQWtELEdBQWxELEVBQXVELEVBQUM5QixTQUFTLFNBQVY7QUFDeEVSLGdCQUFVLHNCQUQ4RCxFQUF2RCxDQUFuQjtBQUVBbkIsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CeUMsV0FBcEI7QUFDQXJFLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2MsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbUR3QixnQkFBTTRCLEtBQU4sQ0FBWSxFQUFDNkMsWUFBWSxzQkFBYjtBQUM3RHhDLGNBQVEsUUFEcUQsRUFDM0NRLFFBQVEsSUFEbUMsRUFDN0JILFdBQVcsR0FEa0IsRUFDYlEsVUFBVSxHQURHLEVBQ0U0QixZQUFZLEdBRGQsRUFDbUJyQixTQUFTLFNBRDVCO0FBRTdEUixnQkFBVSxzQkFGbUQsRUFBWixDQUFuRDtBQUdELEdBYkQ7O0FBZUE7OztBQUdBL0IsS0FBRyxvQ0FBSCxFQUF5QyxZQUFZO0FBQ25ELFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJNEgsdUJBQUosQ0FBNEIsUUFBNUIsRUFBc0MsSUFBdEMsRUFBNEMsR0FBNUMsRUFBaUQsR0FBakQsRUFBc0QsR0FBdEQsRUFBMkQsR0FBM0QsRUFBZ0UsRUFBQy9CLFNBQVMsU0FBVjtBQUNqRlIsZ0JBQVUsc0JBRHVFLEVBQWhFLENBQW5CO0FBRUFuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLDJCQUFiO0FBQzdEeEMsY0FBUSxRQURxRCxFQUMzQ1EsUUFBUSxJQURtQyxFQUM3QkgsV0FBVyxHQURrQixFQUNiK0MsZ0JBQWdCLEdBREgsRUFDUXZDLFVBQVUsR0FEbEIsRUFDdUI0QixZQUFZLEdBRG5DO0FBRTdEckIsZUFBUyxTQUZvRCxFQUV6Q1IsVUFBVSxzQkFGK0IsRUFBWixDQUFuRDtBQUdELEdBYkQ7O0FBZUE7OztBQUdBL0IsS0FBRyxxQ0FBSCxFQUEwQyxZQUFZO0FBQ3BELFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJOEgsd0JBQUosQ0FBNkIsUUFBN0IsRUFBdUMsSUFBdkMsRUFBNkMsR0FBN0MsRUFBa0QsR0FBbEQsRUFBdUQsR0FBdkQsRUFBNEQsR0FBNUQsRUFBaUUsRUFBQ2pDLFNBQVMsU0FBVjtBQUNsRlIsZ0JBQVUsc0JBRHdFLEVBQWpFLENBQW5CO0FBRUFuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLDRCQUFiO0FBQzdEeEMsY0FBUSxRQURxRCxFQUMzQ1EsUUFBUSxJQURtQyxFQUM3QkgsV0FBVyxHQURrQixFQUNiK0MsZ0JBQWdCLEdBREgsRUFDUXZDLFVBQVUsR0FEbEIsRUFDdUI0QixZQUFZLEdBRG5DO0FBRTdEckIsZUFBUyxTQUZvRCxFQUV6Q1IsVUFBVSxzQkFGK0IsRUFBWixDQUFuRDtBQUdELEdBYkQ7O0FBZUE7OztBQUdBL0IsS0FBRyx3QkFBSCxFQUE2QixZQUFZO0FBQ3ZDLFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCZCxrQkFBWTtBQUhJLEtBQWxCO0FBS0FsRyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixPQUFyQixFQUE4QitELFFBQTlCLENBQXVDNEMsV0FBdkM7QUFDQSxRQUFJM0MsU0FBUyxNQUFNbEUsSUFBSStILGNBQUosQ0FBbUIsVUFBbkIsRUFBK0IsR0FBL0IsRUFBb0MsR0FBcEMsQ0FBbkI7QUFDQTdELFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnlDLFdBQXBCO0FBQ0FyRSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9jLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1Ed0IsZ0JBQU00QixLQUFOLENBQVksRUFBQzZDLFlBQVksaUJBQWI7QUFDN0RoQixrQkFBWSxVQURpRCxFQUNyQ1gsVUFBVSxHQUQyQixFQUN0QjRCLFlBQVksR0FEVSxFQUFaLENBQW5EO0FBRUQsR0FYRDs7QUFhQTs7O0FBR0E1RCxLQUFHLGlDQUFILEVBQXNDLFlBQVk7QUFDaEQsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJkLGtCQUFZO0FBSEksS0FBbEI7QUFLQWxHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJZ0ksc0JBQUosQ0FBMkIsVUFBM0IsRUFBdUMsR0FBdkMsRUFBNEMsRUFBQ25DLFNBQVMsU0FBVjtBQUM3RFIsZ0JBQVUsc0JBRG1ELEVBQTVDLENBQW5CO0FBRUFuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLGtCQUFiO0FBQzdEaEIsa0JBQVksVUFEaUQsRUFDckNoQixRQUFRLEdBRDZCLEVBQ3hCWSxTQUFTLFNBRGUsRUFDSlIsVUFBVSxzQkFETixFQUFaLENBQW5EO0FBRUQsR0FaRDs7QUFjQTs7O0FBR0EvQixLQUFHLHVCQUFILEVBQTRCLFlBQVk7QUFDdEMsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJkLGtCQUFZO0FBSEksS0FBbEI7QUFLQWxHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJaUksYUFBSixDQUFrQixVQUFsQixFQUE4QixFQUFDcEMsU0FBUyxTQUFWLEVBQXFCUixVQUFVLHNCQUEvQixFQUE5QixDQUFuQjtBQUNBbkIsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CeUMsV0FBcEI7QUFDQXJFLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2MsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbUR3QixnQkFBTTRCLEtBQU4sQ0FBWSxFQUFDNkMsWUFBWSxtQkFBYjtBQUM3RGhCLGtCQUFZLFVBRGlELEVBQ3JDSixTQUFTLFNBRDRCLEVBQ2pCUixVQUFVLHNCQURPLEVBQVosQ0FBbkQ7QUFFRCxHQVhEOztBQWFBOzs7QUFHQS9CLEtBQUcsMENBQUgsRUFBK0MsWUFBWTtBQUN6RCxRQUFJdUQsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQmQsa0JBQVksVUFISTtBQUloQmlDLHlCQUFtQjtBQUpILEtBQWxCO0FBTUFuSSxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixPQUFyQixFQUE4QitELFFBQTlCLENBQXVDNEMsV0FBdkM7QUFDQSxRQUFJM0MsU0FBUyxNQUFNbEUsSUFBSW1JLE9BQUosQ0FBWSxVQUFaLEVBQXdCLFVBQXhCLEVBQW9DLEVBQUN0QyxTQUFTLFNBQVYsRUFBcUJSLFVBQVUsc0JBQS9CLEVBQXBDLENBQW5CO0FBQ0FuQixXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLG1CQUFiO0FBQzdEaEIsa0JBQVksVUFEaUQsRUFDckNpQyxtQkFBbUIsVUFEa0IsRUFDTnJDLFNBQVMsU0FESCxFQUNjUixVQUFVLHNCQUR4QixFQUFaLENBQW5EO0FBRUQsR0FaRDs7QUFjQTs7O0FBR0EvQixLQUFHLGtDQUFILEVBQXVDLFlBQVk7QUFDakQsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJkLGtCQUFZO0FBSEksS0FBbEI7QUFLQWxHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJb0ksc0JBQUosQ0FBMkIsUUFBM0IsRUFBcUMsRUFBQ3ZDLFNBQVMsU0FBVixFQUFxQlIsVUFBVSxzQkFBL0IsRUFBckMsQ0FBbkI7QUFDQW5CLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnlDLFdBQXBCO0FBQ0FyRSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9jLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1Ed0IsZ0JBQU00QixLQUFOLENBQVksRUFBQzZDLFlBQVksd0JBQWI7QUFDN0R4QyxjQUFRLFFBRHFELEVBQzNDb0IsU0FBUyxTQURrQyxFQUN2QlIsVUFBVSxzQkFEYSxFQUFaLENBQW5EO0FBRUQsR0FYRDs7QUFhQTs7O0FBR0EvQixLQUFHLHFCQUFILEVBQTBCLFlBQVk7QUFDcEMsUUFBSXVELGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJQLGVBQVM7QUFITyxLQUFsQjtBQUtBekcsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEIrRCxRQUE5QixDQUF1QzRDLFdBQXZDO0FBQ0EsUUFBSTNDLFNBQVMsTUFBTWxFLElBQUlxSSxXQUFKLENBQWdCLFVBQWhCLEVBQTRCLEdBQTVCLEVBQWlDLEdBQWpDLEVBQXNDLEdBQXRDLENBQW5CO0FBQ0FuRSxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0J5QyxXQUFwQjtBQUNBckUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPYyxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRHdCLGdCQUFNNEIsS0FBTixDQUFZLEVBQUM2QyxZQUFZLGNBQWIsRUFBNkJULFNBQVMsVUFBdEM7QUFDN0QxQixpQkFBVyxHQURrRCxFQUM3Q1EsVUFBVSxHQURtQyxFQUM5QjRCLFlBQVksR0FEa0IsRUFBWixDQUFuRDtBQUVELEdBWEQ7O0FBYUE7OztBQUdBNUQsS0FBRyxxQkFBSCxFQUEwQixZQUFZO0FBQ3BDLFFBQUl1RCxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCUCxlQUFTO0FBSE8sS0FBbEI7QUFLQXpHLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCK0QsUUFBOUIsQ0FBdUM0QyxXQUF2QztBQUNBLFFBQUkzQyxTQUFTLE1BQU1sRSxJQUFJc0ksV0FBSixDQUFnQixVQUFoQixDQUFuQjtBQUNBcEUsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CeUMsV0FBcEI7QUFDQXJFLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2MsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbUR3QixnQkFBTTRCLEtBQU4sQ0FBWSxFQUFDNkMsWUFBWSxjQUFiLEVBQTZCVCxTQUFTLFVBQXRDLEVBQVosQ0FBbkQ7QUFDRCxHQVZEOztBQVlBOzs7QUFHQWxELEtBQUcsMkJBQUgsRUFBZ0MsWUFBWTtBQUMxQ3ZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFdBQXJCLEVBQWtDK0QsUUFBbEM7QUFDQSxVQUFNakUsSUFBSWlCLFNBQUosRUFBTjtBQUNBdUIsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPZSxTQUEvQixFQUEwQyxXQUExQztBQUNELEdBSkQ7O0FBTUE7OztBQUdBbkIsV0FBUyxrQkFBVCxFQUE2QixNQUFNOztBQUVqQyxRQUFJeUksS0FBSjs7QUFFQTdGLGVBQVcsTUFBTTtBQUNmNkYsY0FBUS9GLGdCQUFNZ0csYUFBTixDQUFvQjtBQUMxQkMsMkJBQW1CO0FBRE8sT0FBcEIsQ0FBUjtBQUdELEtBSkQ7O0FBTUFyRixjQUFVLFlBQVk7QUFDcEJtRixZQUFNbEYsT0FBTjtBQUNELEtBRkQ7O0FBSUE7OztBQUdBQyxPQUFHLDhCQUFILEVBQW1DLFlBQVk7QUFDN0N2RCxjQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixpQkFBckIsRUFBd0MrRCxRQUF4QztBQUNBLFlBQU1qRSxJQUFJMEksU0FBSixFQUFOO0FBQ0FsRyxzQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9pQixlQUEvQixFQUFnRCxXQUFoRDtBQUNELEtBSkQ7QUFNRCxHQXZCRDs7QUF5QkE7OztBQUdBbUMsS0FBRyw4Q0FBSCxFQUFtRCxZQUFZO0FBQzdELFVBQU1xRixzQkFBc0I1SSxRQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixpQkFBckIsRUFBd0MrRCxRQUF4QyxFQUE1QjtBQUNBLFVBQU1qRSxJQUFJNEksS0FBSixFQUFOO0FBQ0EsVUFBTTVJLElBQUkwSSxTQUFKLEVBQU47QUFDQWxHLG9CQUFNNkIsTUFBTixDQUFhd0UsU0FBYixDQUF1QkYsbUJBQXZCO0FBQ0QsR0FMRDs7QUFPQTs7O0FBR0FyRixLQUFHLHdDQUFILEVBQTZDLFlBQVk7QUFDdkR2RCxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixhQUFyQixFQUFvQytELFFBQXBDO0FBQ0FsRSxZQUFRK0MsSUFBUixDQUFhZ0csc0JBQWIsRUFBMkIsVUFBM0IsRUFBdUM3RixPQUF2QyxDQUErQyxtQkFBL0M7QUFDQWpELFVBQU0sSUFBSWtELDJCQUFKLENBQXNCaEQsTUFBdEIsRUFBOEIsRUFBQ3lDLElBQUksV0FBTCxFQUE5QixFQUFpRFEsU0FBakQsRUFBNERoQixrQkFBNUQsQ0FBTjtBQUNBbkMsUUFBSTBHLGNBQUosQ0FBbUJxQyxtQkFBbkIsQ0FBdUMsWUFBdkMsRUFBcUQsRUFBQy9DLFVBQVUsSUFBSXBCLElBQUosQ0FBUywwQkFBVCxDQUFYLEVBQXJEO0FBQ0E1RSxRQUFJMEcsY0FBSixDQUFtQnNDLFdBQW5CLENBQStCLFlBQS9CLEVBQTZDLEVBQUNyRSxNQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUFQLEVBQTdDO0FBQ0EsVUFBTTVFLElBQUlrQixXQUFKLENBQWdCLFlBQWhCLENBQU47QUFDQXNCLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2dCLFdBQS9CLEVBQTRDLFdBQTVDLEVBQXlELENBQXpELEVBQTRELFVBQTVELEVBQXdFLG1CQUF4RSxFQUNFLElBQUkwRCxJQUFKLENBQVMsMEJBQVQsQ0FERixFQUN3QyxJQUFJQSxJQUFKLENBQVMsMEJBQVQsQ0FEeEM7QUFFRCxHQVREOztBQVdBOzs7QUFHQXRCLEtBQUcsNERBQUgsRUFBaUUsWUFBWTtBQUMzRXZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLGFBQXJCLEVBQW9DK0QsUUFBcEM7QUFDQWxFLFlBQVErQyxJQUFSLENBQWFnRyxzQkFBYixFQUEyQixVQUEzQixFQUF1QzdGLE9BQXZDLENBQStDLG1CQUEvQztBQUNBakQsVUFBTSxJQUFJa0QsMkJBQUosQ0FBc0JoRCxNQUF0QixFQUE4QixFQUFDeUMsSUFBSSxXQUFMLEVBQTlCLEVBQWlEUSxTQUFqRCxFQUE0RGhCLGtCQUE1RCxFQUNKLElBQUl5QyxJQUFKLENBQVMsMEJBQVQsQ0FESSxDQUFOO0FBRUE1RSxRQUFJMEcsY0FBSixDQUFtQnFDLG1CQUFuQixDQUF1QyxZQUF2QyxFQUFxRCxFQUFDL0MsVUFBVSxJQUFJcEIsSUFBSixDQUFTLDBCQUFULENBQVgsRUFBckQ7QUFDQTVFLFFBQUkwRyxjQUFKLENBQW1Cc0MsV0FBbkIsQ0FBK0IsWUFBL0IsRUFBNkMsRUFBQ3JFLE1BQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBQVAsRUFBN0M7QUFDQSxVQUFNNUUsSUFBSWtCLFdBQUosQ0FBZ0IsWUFBaEIsQ0FBTjtBQUNBc0Isb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPZ0IsV0FBL0IsRUFBNEMsV0FBNUMsRUFBeUQsQ0FBekQsRUFBNEQsVUFBNUQsRUFBd0UsbUJBQXhFLEVBQ0UsSUFBSTBELElBQUosQ0FBUywwQkFBVCxDQURGLEVBQ3dDLElBQUlBLElBQUosQ0FBUywwQkFBVCxDQUR4QztBQUVELEdBVkQ7O0FBWUE7OztBQUdBdEIsS0FBRyxpQ0FBSCxFQUFzQyxZQUFZO0FBQ2hEdkQsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsdUJBQXJCLEVBQThDK0QsUUFBOUM7QUFDQSxRQUFJZ0YsVUFBVWpKLElBQUlvQixxQkFBSixDQUEwQixRQUExQixFQUFvQyxDQUFDLEVBQUNvRCxNQUFNLFFBQVAsRUFBRCxDQUFwQyxFQUF3RCxDQUF4RCxDQUFkO0FBQ0F4RSxRQUFJa0osYUFBSixDQUFrQkMscUJBQWxCLENBQXdDLFlBQXhDLEVBQXNELENBQUMsRUFBQ3hFLE1BQU0sSUFBSUMsSUFBSixFQUFQLEVBQW1CSCxRQUFRLFFBQTNCLEVBQXFDMkUsS0FBSyxDQUExQyxFQUE2Q0MsS0FBSyxHQUFsRCxFQUFELENBQXREO0FBQ0EsVUFBTUosT0FBTjtBQUNBekcsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPa0IscUJBQS9CLEVBQXNELFdBQXRELEVBQW1FLENBQW5FLEVBQXNFLFFBQXRFLEVBQWdGLENBQUMsRUFBQ29ELE1BQU0sUUFBUCxFQUFELENBQWhGO0FBQ0QsR0FORDs7QUFRQTs7O0FBR0FsQixLQUFHLHFDQUFILEVBQTBDLFlBQVk7QUFDcER2RCxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQiwyQkFBckIsRUFBa0QrRCxRQUFsRDtBQUNBLFVBQU1qRSxJQUFJcUIseUJBQUosQ0FBOEIsUUFBOUIsRUFBd0MsQ0FBQyxFQUFDbUQsTUFBTSxRQUFQLEVBQUQsQ0FBeEMsRUFBNEQsQ0FBNUQsQ0FBTjtBQUNBaEMsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPbUIseUJBQS9CLEVBQTBELFdBQTFELEVBQXVFLENBQXZFLEVBQTBFLFFBQTFFLEVBQW9GLENBQUMsRUFBQ21ELE1BQU0sUUFBUCxFQUFELENBQXBGO0FBQ0QsR0FKRDs7QUFNQTFFLFdBQVMseUJBQVQsRUFBb0MsTUFBTTs7QUFFeEM7OztBQUdBd0QsT0FBRyw4REFBSCxFQUFtRSxZQUFZO0FBQzdFdkQsY0FBUStDLElBQVIsQ0FBYTlDLEdBQWIsRUFBa0IsdUJBQWxCLEVBQTJDaUUsUUFBM0M7QUFDQWxFLGNBQVErQyxJQUFSLENBQWE5QyxHQUFiLEVBQWtCLDJCQUFsQixFQUErQ2lFLFFBQS9DO0FBQ0EsWUFBTWpFLElBQUlzSix3QkFBSixDQUE2QixZQUE3QixFQUEyQyxRQUEzQyxFQUFxRG5HLFNBQXJELEVBQWdFLENBQUMsRUFBQ3FCLE1BQU0sT0FBUCxFQUFELEVBQWtCLEVBQUNBLE1BQU0sT0FBUCxFQUFsQixDQUFoRSxDQUFOO0FBQ0FoQyxzQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnRFLElBQUlxQix5QkFBNUIsRUFBdUQsUUFBdkQsRUFBaUUsQ0FBQyxFQUFDbUQsTUFBTSxPQUFQLEVBQUQsRUFBa0IsRUFBQ0EsTUFBTSxPQUFQLEVBQWxCLENBQWpFO0FBQ0FoQyxzQkFBTTZCLE1BQU4sQ0FBYXdFLFNBQWIsQ0FBdUI3SSxJQUFJb0IscUJBQTNCO0FBQ0QsS0FORDs7QUFRQTs7O0FBR0FrQyxPQUFHLHFEQUFILEVBQTBELFlBQVk7QUFDcEV2RCxjQUFRK0MsSUFBUixDQUFhOUMsR0FBYixFQUFrQix1QkFBbEIsRUFBMkNpRSxRQUEzQztBQUNBbEUsY0FBUStDLElBQVIsQ0FBYTlDLEdBQWIsRUFBa0IsMkJBQWxCLEVBQStDaUUsUUFBL0M7QUFDQSxZQUFNakUsSUFBSXNKLHdCQUFKLENBQTZCLFlBQTdCLEVBQTJDLFFBQTNDLEVBQXFELENBQUMsRUFBQzlFLE1BQU0sUUFBUCxFQUFpQitFLHdCQUF3QixLQUF6QyxFQUFELENBQXJELENBQU47QUFDQS9HLHNCQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCdEUsSUFBSW9CLHFCQUE1QixFQUFtRCxRQUFuRCxFQUE2RCxDQUFDLEVBQUNvRCxNQUFNLFFBQVAsRUFBaUIrRSx3QkFBd0IsS0FBekMsRUFBRCxDQUE3RDtBQUNBL0csc0JBQU02QixNQUFOLENBQWF3RSxTQUFiLENBQXVCN0ksSUFBSXFCLHlCQUEzQjtBQUNELEtBTkQ7QUFRRCxHQXhCRDs7QUEwQkE7OztBQUdBaUMsS0FBRyx5QkFBSCxFQUE4QixZQUFZO0FBQ3hDLFFBQUlrRyxVQUFVLENBQUMsUUFBRCxDQUFkO0FBQ0F6SixZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixZQUFyQixFQUFtQytELFFBQW5DLENBQTRDdUYsT0FBNUM7QUFDQSxRQUFJdEYsU0FBUyxNQUFNbEUsSUFBSTBCLFVBQUosRUFBbkI7QUFDQXdDLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQm9GLE9BQXBCO0FBQ0FoSCxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU93QixVQUEvQixFQUEyQyxXQUEzQztBQUNELEdBTkQ7O0FBUUE7OztBQUdBNEIsS0FBRyxzQ0FBSCxFQUEyQyxZQUFZO0FBQ3JELFFBQUltRyxnQkFBZ0I7QUFDbEJoRixjQUFRLFFBRFU7QUFFbEJpRixnQkFBVSxPQUZRO0FBR2xCQyxpQkFBVyxJQUhPO0FBSWxCQyxpQkFBVyxHQUpPO0FBS2xCQyxrQkFBWTtBQUxNLEtBQXBCO0FBT0E5SixZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQix3QkFBckIsRUFBK0MrRCxRQUEvQyxDQUF3RHdGLGFBQXhEO0FBQ0EsUUFBSXZGLFNBQVMsTUFBTWxFLElBQUkyQixzQkFBSixDQUEyQixRQUEzQixDQUFuQjtBQUNBdUMsV0FBT0MsTUFBUCxDQUFjQyxLQUFkLENBQW9CcUYsYUFBcEI7QUFDQWpILG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT3lCLHNCQUEvQixFQUF1RCxXQUF2RCxFQUFvRSxRQUFwRTtBQUNELEdBWkQ7O0FBY0E7OztBQUdBMkIsS0FBRyw4QkFBSCxFQUFtQyxZQUFZO0FBQzdDLFFBQUltRCxRQUFRO0FBQ1ZoQyxjQUFRLFFBREU7QUFFVjJFLFdBQUssT0FGSztBQUdWQyxXQUFLLE9BSEs7QUFJVlMsdUJBQWlCLE9BSlA7QUFLVkMscUJBQWU7QUFMTCxLQUFaO0FBT0FoSyxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixnQkFBckIsRUFBdUMrRCxRQUF2QyxDQUFnRHdDLEtBQWhEO0FBQ0EsUUFBSXZDLFNBQVMsTUFBTWxFLElBQUk0QixjQUFKLENBQW1CLFFBQW5CLENBQW5CO0FBQ0FzQyxXQUFPQyxNQUFQLENBQWNDLEtBQWQsQ0FBb0JxQyxLQUFwQjtBQUNBakUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPMEIsY0FBL0IsRUFBK0MsV0FBL0MsRUFBNEQsUUFBNUQ7QUFDRCxHQVpEOztBQWNBOzs7QUFHQTBCLEtBQUcsZ0NBQUgsRUFBcUMsWUFBWTtBQUMvQyxRQUFJMEcsU0FBUztBQUNYdkYsY0FBUSxRQURHO0FBRVh3RixpQkFBVyxLQUZBO0FBR1h0RixZQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUhLO0FBSVhzRixrQkFBWSx5QkFKRDtBQUtYQyxZQUFNLE9BTEs7QUFNWEMsWUFBTSxPQU5LO0FBT1hDLFdBQUssT0FQTTtBQVFYekIsYUFBTyxLQVJJO0FBU1gwQixrQkFBWSxJQVREO0FBVVhDLGNBQVEsRUFWRztBQVdYdEYsY0FBUTtBQVhHLEtBQWI7QUFhQWxGLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFdBQXJCLEVBQWtDK0QsUUFBbEMsQ0FBMkMrRixNQUEzQztBQUNBLFFBQUk5RixTQUFTLE1BQU1sRSxJQUFJNkIsU0FBSixDQUFjLFFBQWQsRUFBd0IsS0FBeEIsQ0FBbkI7QUFDQXFDLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQjRGLE1BQXBCO0FBQ0F4SCxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU8yQixTQUEvQixFQUEwQyxXQUExQyxFQUF1RCxRQUF2RCxFQUFpRSxLQUFqRTtBQUNELEdBbEJEOztBQW9CQTs7O0FBR0F5QixLQUFHLDZCQUFILEVBQWtDLFlBQVk7QUFDNUMsUUFBSWtILE9BQU87QUFDVC9GLGNBQVEsUUFEQztBQUVURSxZQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUZHO0FBR1RzRixrQkFBWSx5QkFISDtBQUlUZCxXQUFLLE9BSkk7QUFLVEMsV0FBSyxPQUxJO0FBTVRvQixZQUFNLE1BTkc7QUFPVHhGLGNBQVEsSUFQQztBQVFUeUYsWUFBTTtBQVJHLEtBQVg7QUFVQTNLLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFNBQXJCLEVBQWdDK0QsUUFBaEMsQ0FBeUN1RyxJQUF6QztBQUNBLFFBQUl0RyxTQUFTLE1BQU1sRSxJQUFJOEIsT0FBSixDQUFZLFFBQVosQ0FBbkI7QUFDQW9DLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQm9HLElBQXBCO0FBQ0FoSSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU80QixPQUEvQixFQUF3QyxXQUF4QyxFQUFxRCxRQUFyRDtBQUNELEdBZkQ7O0FBaUJBOzs7QUFHQXdCLEtBQUcsbUNBQUgsRUFBd0MsWUFBWTtBQUNsRCxRQUFJcUgsT0FBTztBQUNUbEcsY0FBUSxRQURDO0FBRVRFLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBRkc7QUFHVHNGLGtCQUFZLHlCQUhIO0FBSVRTLFlBQU0sQ0FDSjtBQUNFbkcsY0FBTSxnQkFEUjtBQUVFaUMsZUFBTyxPQUZUO0FBR0V4QixnQkFBUTtBQUhWLE9BREksRUFNSjtBQUNFVCxjQUFNLGVBRFI7QUFFRWlDLGVBQU8sT0FGVDtBQUdFeEIsZ0JBQVE7QUFIVixPQU5JO0FBSkcsS0FBWDtBQWlCQWxGLFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLFNBQXJCLEVBQWdDK0QsUUFBaEMsQ0FBeUMwRyxJQUF6QztBQUNBLFFBQUl6RyxTQUFTLE1BQU1sRSxJQUFJK0IsT0FBSixDQUFZLFFBQVosQ0FBbkI7QUFDQW1DLFdBQU9DLE1BQVAsQ0FBY0MsS0FBZCxDQUFvQnVHLElBQXBCO0FBQ0FuSSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU82QixPQUEvQixFQUF3QyxXQUF4QyxFQUFxRCxRQUFyRDtBQUNELEdBdEJEOztBQXdCQTs7O0FBR0F1QixLQUFHLHdDQUFILEVBQTZDLFlBQVk7QUFDdkR2RCxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixZQUFyQixFQUFtQytELFFBQW5DO0FBQ0EsVUFBTWpFLElBQUlnQyxVQUFKLENBQWUsRUFBQyxNQUFNLEdBQVAsRUFBZixDQUFOO0FBQ0FRLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBTzhCLFVBQS9CLEVBQTJDLFdBQTNDLEVBQXdELEVBQUMsTUFBTSxHQUFQLEVBQXhEO0FBQ0QsR0FKRDs7QUFNQTs7OztBQUlBc0IsS0FBRyxtR0FBSCxFQUF3RyxZQUFZO0FBQ2xIdkQsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsNEJBQXJCLEVBQW1EK0MsT0FBbkQ7QUFDQWpELFVBQU0sSUFBSWtELDJCQUFKLENBQXNCaEQsTUFBdEIsRUFBOEIsRUFBQ3lDLElBQUksV0FBTCxFQUE5QixFQUFpRFEsU0FBakQsRUFBNERoQixrQkFBNUQsQ0FBTjtBQUNBZ0MscUJBQU95RyxLQUFQLENBQWE1SyxJQUFJa0osYUFBakI7QUFDQS9FLHFCQUFPeUcsS0FBUCxDQUFhNUssSUFBSTBHLGNBQWpCO0FBQ0FsRSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9vQiwwQkFBL0IsRUFBMkQsV0FBM0QsRUFBd0V0QixHQUF4RTtBQUNBd0Msb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPb0IsMEJBQS9CLEVBQTJELFdBQTNELEVBQXdFdEIsSUFBSWtKLGFBQTVFO0FBQ0ExRyxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9vQiwwQkFBL0IsRUFBMkQsV0FBM0QsRUFBd0V0QixJQUFJMEcsY0FBNUU7QUFDRCxHQVJEOztBQVVBOzs7QUFHQXBELEtBQUcsc0NBQUgsRUFBMkMsWUFBWTtBQUNyRHZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLDRCQUFyQixFQUFtRCtDLE9BQW5EO0FBQ0FqRCxVQUFNLElBQUlrRCwyQkFBSixDQUFzQmhELE1BQXRCLEVBQThCLEVBQUN5QyxJQUFJLFdBQUwsRUFBOUIsRUFBaURRLFNBQWpELEVBQTREaEIsa0JBQTVELENBQU47QUFDQSxRQUFJMEksV0FBVyxFQUFmO0FBQ0E3SyxRQUFJc0IsMEJBQUosQ0FBK0J1SixRQUEvQjtBQUNBckksb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPb0IsMEJBQS9CLEVBQTJELFdBQTNELEVBQXdFdUosUUFBeEU7QUFDRCxHQU5EOztBQVFBOzs7QUFHQXZILEtBQUcseUNBQUgsRUFBOEMsWUFBWTtBQUN4RHZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLCtCQUFyQixFQUFzRCtDLE9BQXREO0FBQ0FqRCxVQUFNLElBQUlrRCwyQkFBSixDQUFzQmhELE1BQXRCLEVBQThCLEVBQUN5QyxJQUFJLFdBQUwsRUFBOUIsRUFBaURRLFNBQWpELEVBQTREaEIsa0JBQTVELENBQU47QUFDQSxRQUFJMEksV0FBVyxFQUFmO0FBQ0E3SyxRQUFJd0IsNkJBQUosQ0FBa0NxSixRQUFsQztBQUNBckksb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPc0IsNkJBQS9CLEVBQThELFdBQTlELEVBQTJFcUosUUFBM0U7QUFDRCxHQU5EOztBQVFBOzs7QUFHQXZILEtBQUcsaUNBQUgsRUFBc0MsWUFBWTtBQUNoRHZELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLGFBQXJCLEVBQW9DK0QsUUFBcEM7QUFDQWxFLFlBQVErQyxJQUFSLENBQWFnRyxzQkFBYixFQUEyQixVQUEzQixFQUF1QzdGLE9BQXZDLENBQStDLG1CQUEvQztBQUNBakQsVUFBTSxJQUFJa0QsMkJBQUosQ0FBc0JoRCxNQUF0QixFQUE4QixFQUFDeUMsSUFBSSxXQUFMLEVBQTlCLEVBQWlEUSxTQUFqRCxFQUE0RGhCLGtCQUE1RCxDQUFOO0FBQ0FuQyxRQUFJMEcsY0FBSixDQUFtQnFDLG1CQUFuQixDQUF1QyxZQUF2QyxFQUFxRCxFQUFDL0MsVUFBVSxJQUFJcEIsSUFBSixDQUFTLDBCQUFULENBQVgsRUFBckQ7QUFDQTVFLFFBQUkwRyxjQUFKLENBQW1Cc0MsV0FBbkIsQ0FBK0IsWUFBL0IsRUFBNkMsRUFBQ3JFLE1BQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBQVAsRUFBN0M7QUFDQSxVQUFNNUUsSUFBSThLLFdBQUosQ0FBZ0IsWUFBaEIsRUFBOEIsQ0FBOUIsQ0FBTjtBQUNBLFVBQU0sc0JBQVlDLE9BQU9DLFdBQVdELEdBQVgsRUFBZ0IsRUFBaEIsQ0FBbkIsQ0FBTjtBQUNBdkksb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JwRSxPQUFPZ0IsV0FBL0IsRUFBNEMsV0FBNUMsRUFBeUQsQ0FBekQsRUFBNEQsVUFBNUQsRUFBd0UsbUJBQXhFLEVBQ0UsSUFBSTBELElBQUosQ0FBUywwQkFBVCxDQURGLEVBQ3dDLElBQUlBLElBQUosQ0FBUywwQkFBVCxDQUR4QztBQUVELEdBVkQ7O0FBWUE7OztBQUdBdEIsS0FBRywwREFBSCxFQUErRCxZQUFZO0FBQ3pFLFFBQUlSLE9BQU8vQyxRQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQixhQUFyQixDQUFYO0FBQ0E0QyxTQUFLbUksV0FBTCxHQUFtQkMsTUFBbkIsQ0FBMEIsSUFBSUMsS0FBSixDQUFVLFlBQVYsQ0FBMUI7QUFDQXJJLFNBQUtzSSxZQUFMLEdBQW9CbkgsUUFBcEI7QUFDQWxFLFlBQVErQyxJQUFSLENBQWFnRyxzQkFBYixFQUEyQixVQUEzQixFQUF1QzdGLE9BQXZDLENBQStDLG1CQUEvQztBQUNBakQsVUFBTSxJQUFJa0QsMkJBQUosQ0FBc0JoRCxNQUF0QixFQUE4QixFQUFDeUMsSUFBSSxXQUFMLEVBQTlCLEVBQWlEUSxTQUFqRCxFQUE0RGhCLGtCQUE1RCxDQUFOO0FBQ0EsVUFBTW5DLElBQUkwRyxjQUFKLENBQW1CcUMsbUJBQW5CLENBQXVDLFlBQXZDLEVBQXFELEVBQUMvQyxVQUFVLElBQUlwQixJQUFKLENBQVMsMEJBQVQsQ0FBWCxFQUFyRCxDQUFOO0FBQ0EsVUFBTTVFLElBQUkwRyxjQUFKLENBQW1Cc0MsV0FBbkIsQ0FBK0IsWUFBL0IsRUFBNkMsRUFBQ3JFLE1BQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBQVAsRUFBN0MsQ0FBTjtBQUNBLFVBQU01RSxJQUFJOEssV0FBSixDQUFnQixZQUFoQixFQUE4QixDQUE5QixDQUFOO0FBQ0EsVUFBTSxzQkFBWUMsT0FBT0MsV0FBV0QsR0FBWCxFQUFnQixFQUFoQixDQUFuQixDQUFOO0FBQ0F2SSxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9nQixXQUEvQixFQUE0QyxXQUE1QyxFQUF5RCxDQUF6RCxFQUE0RCxVQUE1RCxFQUF3RSxtQkFBeEUsRUFDRSxJQUFJMEQsSUFBSixDQUFTLDBCQUFULENBREYsRUFDd0MsSUFBSUEsSUFBSixDQUFTLDBCQUFULENBRHhDO0FBRUQsR0FaRDs7QUFjQTs7O0FBR0F0QixLQUFHLGdEQUFILEVBQXFELFlBQVk7QUFDL0QsUUFBSStILGtCQUFrQnRMLFFBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLGFBQXJCLENBQXRCO0FBQ0FGLFVBQU0sSUFBSWtELDJCQUFKLENBQXNCaEQsTUFBdEIsRUFBOEIsRUFBQ3lDLElBQUksV0FBTCxFQUE5QixFQUFpRFEsU0FBakQsRUFBNERoQixrQkFBNUQsQ0FBTjtBQUNBLFVBQU1uQyxJQUFJMEcsY0FBSixDQUFtQnFDLG1CQUFuQixDQUF1QyxZQUF2QyxFQUFxRCxFQUFDL0MsVUFBVSxJQUFJcEIsSUFBSixDQUFTLDBCQUFULENBQVgsRUFBckQsQ0FBTjtBQUNBLFVBQU01RSxJQUFJMEcsY0FBSixDQUFtQnNDLFdBQW5CLENBQStCLFlBQS9CLEVBQTZDLEVBQUNyRSxNQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUFQLEVBQTdDLENBQU47QUFDQSxVQUFNNUUsSUFBSTRJLEtBQUosRUFBTjtBQUNBLFVBQU01SSxJQUFJOEssV0FBSixDQUFnQixZQUFoQixFQUE4QixDQUE5QixDQUFOO0FBQ0F0SSxvQkFBTTZCLE1BQU4sQ0FBYXdFLFNBQWIsQ0FBdUJ3QyxlQUF2QjtBQUNELEdBUkQ7O0FBVUE7OztBQUdBL0gsS0FBRyw2REFBSCxFQUFrRSxZQUFZO0FBQzVFLFFBQUlnSSxZQUFZLENBQWhCO0FBQ0F2TCxZQUFRK0MsSUFBUixDQUFhOUMsSUFBSWtKLGFBQWpCLEVBQWdDLE9BQWhDLEVBQXlDcUMsU0FBekMsQ0FBb0Q5RyxNQUFELElBQVk7QUFDN0Q2RztBQUNBLFVBQUlBLGNBQWMsQ0FBbEIsRUFBcUI7QUFDbkIsZUFBT25JLFNBQVA7QUFDRDtBQUNELGFBQU8sRUFBQ3NCLE1BQUQsRUFBUDtBQUNELEtBTkQ7QUFPQSxVQUFNekUsSUFBSW9CLHFCQUFKLENBQTBCLFFBQTFCLENBQU47QUFDQSxVQUFNcEIsSUFBSW9CLHFCQUFKLENBQTBCLFFBQTFCLENBQU47QUFDQSxVQUFNb0ssZ0JBQWdCekwsUUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsdUJBQXJCLEVBQThDK0QsUUFBOUMsRUFBdEI7QUFDQSxVQUFNakUsSUFBSXlMLDJCQUFKLENBQWdDLFlBQWhDLEVBQThDLEVBQTlDLENBQU47QUFDQWpKLG9CQUFNNkIsTUFBTixDQUFhaUgsU0FBYixDQUF1QkUsYUFBdkIsRUFBc0MsQ0FBdEM7QUFDQWhKLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCa0gsYUFBeEIsRUFBdUMsV0FBdkMsRUFBb0QsQ0FBcEQsRUFBdUQsUUFBdkQ7QUFDRCxHQWZEOztBQWlCQTs7O0FBR0FsSSxLQUFHLHlDQUFILEVBQThDLFlBQVk7QUFDeER2RCxZQUFRK0MsSUFBUixDQUFhNUMsTUFBYixFQUFxQiw0QkFBckIsRUFBbUQrQyxPQUFuRDtBQUNBbEQsWUFBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsK0JBQXJCLEVBQXNEK0MsT0FBdEQ7QUFDQWxELFlBQVErQyxJQUFSLENBQWE1QyxNQUFiLEVBQXFCLGFBQXJCLEVBQW9DK0QsUUFBcEM7QUFDQWxFLFlBQVErQyxJQUFSLENBQWFYLGtCQUFiLEVBQWlDLFFBQWpDLEVBQTJDYyxPQUEzQztBQUNBakQsVUFBTSxJQUFJa0QsMkJBQUosQ0FBc0JoRCxNQUF0QixFQUE4QixFQUFDeUMsSUFBSSxXQUFMLEVBQTlCLEVBQWlEUSxTQUFqRCxFQUE0RGhCLGtCQUE1RCxDQUFOO0FBQ0EsVUFBTW5DLElBQUk0SSxLQUFKLEVBQU47QUFDQXBHLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT2dDLFdBQS9CLEVBQTRDLFdBQTVDO0FBQ0FNLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT3NCLDZCQUEvQixFQUE4RCxXQUE5RCxFQUEyRXhCLEdBQTNFO0FBQ0F3QyxvQkFBTTZCLE1BQU4sQ0FBYUMsVUFBYixDQUF3QnBFLE9BQU9zQiw2QkFBL0IsRUFBOEQsV0FBOUQsRUFBMkV4QixJQUFJa0osYUFBL0U7QUFDQTFHLG9CQUFNNkIsTUFBTixDQUFhQyxVQUFiLENBQXdCcEUsT0FBT3NCLDZCQUEvQixFQUE4RCxXQUE5RCxFQUEyRXhCLElBQUkwRyxjQUEvRTtBQUNBbEUsb0JBQU02QixNQUFOLENBQWFDLFVBQWIsQ0FBd0JuQyxtQkFBbUJFLE1BQTNDLEVBQW1ELFdBQW5EO0FBQ0QsR0FaRDs7QUFjQXZDLFdBQVMsa0JBQVQsRUFBNkIsTUFBTTs7QUFFakM7OztBQUdBd0QsT0FBRywyQ0FBSCxFQUFnRCxZQUFZO0FBQzFEdkQsY0FBUStDLElBQVIsQ0FBYTVDLE1BQWIsRUFBcUIsa0JBQXJCLEVBQXlDK0QsUUFBekM7QUFDQXpCLHNCQUFNNkIsTUFBTixDQUFhRCxLQUFiLEVBQW1CLE1BQU1wRSxJQUFJMEwsY0FBSixDQUFtQixZQUFuQixDQUF6QixHQUEyRCxLQUEzRDtBQUNBLE9BQUMsTUFBTTFMLElBQUkwTCxjQUFKLEVBQVAsRUFBNkJ2SCxNQUE3QixDQUFvQ3dILEtBQXBDLENBQTBDLEtBQTFDO0FBQ0EsVUFBSTFDLFVBQVVqSixJQUFJaUMsZ0JBQUosQ0FBcUIsRUFBQzJKLG9CQUFvQixPQUFyQixFQUE4QkMsbUJBQW1CLG1CQUFqRDtBQUNqQ0MsMEJBQWtCLENBRGUsRUFDWnZDLHdCQUF3QixFQURaLEVBQXJCLENBQWQ7QUFFQSxVQUFJcEQsWUFBWXZCLEtBQUt3QixHQUFMLEVBQWhCO0FBQ0EsWUFBTSxrQkFBUTJGLElBQVIsQ0FBYSxDQUFDOUMsT0FBRCxFQUFVLHNCQUFZOEIsT0FBT0MsV0FBV0QsR0FBWCxFQUFnQixFQUFoQixDQUFuQixDQUFWLENBQWIsQ0FBTjtBQUNBLE9BQUNuRyxLQUFLd0IsR0FBTCxLQUFhRCxTQUFkLEVBQXlCaEMsTUFBekIsQ0FBZ0M2SCxFQUFoQyxDQUFtQ0MsYUFBbkMsQ0FBaUQsRUFBakQsRUFBcUQsRUFBckQ7QUFDQWpNLFVBQUlrTSw4QkFBSixDQUFtQyxZQUFuQyxFQUFpRCxtQkFBakQ7QUFDQWxNLFVBQUltTSw2QkFBSixDQUFrQyxZQUFsQyxFQUFnRCxtQkFBaEQ7QUFDQWhHLGtCQUFZdkIsS0FBS3dCLEdBQUwsRUFBWjtBQUNBLFlBQU02QyxPQUFOO0FBQ0EsT0FBQ3JFLEtBQUt3QixHQUFMLEtBQWFELFNBQWQsRUFBeUJoQyxNQUF6QixDQUFnQzZILEVBQWhDLENBQW1DQyxhQUFuQyxDQUFpRCxFQUFqRCxFQUFxRCxFQUFyRDtBQUNBLE9BQUMsTUFBTWpNLElBQUkwTCxjQUFKLENBQW1CLFlBQW5CLEVBQWlDLG1CQUFqQyxDQUFQLEVBQThEdkgsTUFBOUQsQ0FBcUV3SCxLQUFyRSxDQUEyRSxJQUEzRTtBQUNELEtBZkQ7O0FBaUJBOzs7QUFHQXJJLE9BQUcsc0RBQUgsRUFBMkQsWUFBWTtBQUNyRSxVQUFJO0FBQ0YsY0FBTXRELElBQUlpQyxnQkFBSixDQUFxQixFQUFDMkosb0JBQW9CLE9BQXJCLEVBQThCQyxtQkFBbUIsbUJBQWpEO0FBQ3pCQyw0QkFBa0IsQ0FETyxFQUNKdkMsd0JBQXdCLEVBRHBCLEVBQXJCLENBQU47QUFFQSxjQUFNLElBQUk0QixLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNELE9BSkQsQ0FJRSxPQUFPaUIsR0FBUCxFQUFZO0FBQ1pBLFlBQUlDLElBQUosQ0FBU2xJLE1BQVQsQ0FBZ0J3SCxLQUFoQixDQUFzQixjQUF0QjtBQUNEO0FBQ0QsT0FBQyxNQUFNM0wsSUFBSTBMLGNBQUosQ0FBbUIsbUJBQW5CLENBQVAsRUFBZ0R2SCxNQUFoRCxDQUF1RHdILEtBQXZELENBQTZELEtBQTdEO0FBQ0QsS0FURDtBQVdELEdBcENEOztBQXNDQTs7O0FBR0FySSxLQUFHLCtDQUFILEVBQW9ELFlBQVk7QUFDOUR2RCxZQUFRK0MsSUFBUixDQUFhOUMsSUFBSTBHLGNBQWpCLEVBQWlDLFlBQWpDLEVBQStDekMsUUFBL0M7QUFDQSxVQUFNakUsSUFBSXNNLFVBQUosRUFBTjtBQUNBOUosb0JBQU02QixNQUFOLENBQWFzQyxVQUFiLENBQXdCM0csSUFBSTBHLGNBQUosQ0FBbUI0RixVQUEzQztBQUNELEdBSkQ7O0FBTUE7OztBQUdBaEosS0FBRyw2Q0FBSCxFQUFrRCxZQUFZO0FBQzVELFVBQU10RCxJQUFJOEssV0FBSixDQUFnQixZQUFoQixFQUE4QixDQUE5QixDQUFOO0FBQ0EsVUFBTSxzQkFBWUMsT0FBT0MsV0FBV0QsR0FBWCxFQUFnQixFQUFoQixDQUFuQixDQUFOO0FBQ0F2SSxvQkFBTTZCLE1BQU4sQ0FBYUQsS0FBYixDQUFtQnBFLElBQUl1TSxZQUF2QixFQUFxQyxJQUFyQztBQUNBLFVBQU12TSxJQUFJd00sY0FBSixDQUFtQixZQUFuQixDQUFOO0FBQ0FoSyxvQkFBTTZCLE1BQU4sQ0FBYUQsS0FBYixDQUFtQnBFLElBQUl1TSxZQUF2QixFQUFxQyxLQUFyQztBQUNELEdBTkQ7O0FBUUE7OztBQUdBakosS0FBRyxzQ0FBSCxFQUEyQyxZQUFZO0FBQ3JELFVBQU10RCxJQUFJOEssV0FBSixDQUFnQixZQUFoQixFQUE4QixDQUE5QixDQUFOO0FBQ0EsVUFBTSxzQkFBWUMsT0FBT0MsV0FBV0QsR0FBWCxFQUFnQixFQUFoQixDQUFuQixDQUFOO0FBQ0F2SSxvQkFBTTZCLE1BQU4sQ0FBYUQsS0FBYixDQUFtQnBFLElBQUl1TSxZQUF2QixFQUFxQyxJQUFyQztBQUNBLFVBQU12TSxJQUFJeU0sY0FBSixDQUFtQixZQUFuQixDQUFOO0FBQ0FqSyxvQkFBTTZCLE1BQU4sQ0FBYUQsS0FBYixDQUFtQnBFLElBQUl1TSxZQUF2QixFQUFxQyxLQUFyQztBQUNELEdBTkQ7QUFRRCxDQXprQ0QiLCJmaWxlIjoibWV0YUFwaUNvbm5lY3Rpb24uc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHNob3VsZCBmcm9tICdzaG91bGQnO1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCBNZXRhQXBpQ29ubmVjdGlvbiBmcm9tICcuL21ldGFBcGlDb25uZWN0aW9uJztcbmltcG9ydCBOb3RTeW5jaHJvbml6ZWRFcnJvciBmcm9tICcuLi9jbGllbnRzL21ldGFBcGkvbm90U3luY2hyb25pemVkRXJyb3InO1xuaW1wb3J0IHJhbmRvbXN0cmluZyBmcm9tICdyYW5kb21zdHJpbmcnO1xuaW1wb3J0IEhpc3RvcnlGaWxlTWFuYWdlciBmcm9tICcuL2hpc3RvcnlGaWxlTWFuYWdlci9pbmRleCc7XG5cbi8qKlxuICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9ufVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHNcbmRlc2NyaWJlKCdNZXRhQXBpQ29ubmVjdGlvbicsICgpID0+IHtcblxuICBsZXQgc2FuZGJveDtcbiAgbGV0IGFwaTtcbiAgbGV0IGFjY291bnQ7XG4gIGxldCBjbGllbnQgPSB7XG4gICAgZ2V0QWNjb3VudEluZm9ybWF0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRQb3NpdGlvbnM6ICgpID0+IHt9LFxuICAgIGdldFBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRPcmRlcnM6ICgpID0+IHt9LFxuICAgIGdldE9yZGVyOiAoKSA9PiB7fSxcbiAgICBnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQ6ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2U6ICgpID0+IHt9LFxuICAgIGdldERlYWxzQnlUaWNrZXQ6ICgpID0+IHt9LFxuICAgIGdldERlYWxzQnlQb3NpdGlvbjogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVRpbWVSYW5nZTogKCkgPT4ge30sXG4gICAgcmVtb3ZlSGlzdG9yeTogKCkgPT4ge30sXG4gICAgcmVtb3ZlQXBwbGljYXRpb246ICgpID0+IHt9LFxuICAgIHRyYWRlOiAoKSA9PiB7fSxcbiAgICByZWNvbm5lY3Q6ICgpID0+IHt9LFxuICAgIHN5bmNocm9uaXplOiAoKSA9PiB0cnVlLFxuICAgIGVuc3VyZVN1YnNjcmliZTogKCkgPT4ge30sXG4gICAgc3Vic2NyaWJlVG9NYXJrZXREYXRhOiAoKSA9PiB7fSxcbiAgICB1bnN1YnNjcmliZUZyb21NYXJrZXREYXRhOiAoKSA9PiB7fSxcbiAgICBhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgYWRkUmVjb25uZWN0TGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIHJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICByZW1vdmVSZWNvbm5lY3RMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgZ2V0U3ltYm9sczogKCkgPT4ge30sXG4gICAgZ2V0U3ltYm9sU3BlY2lmaWNhdGlvbjogKCkgPT4ge30sXG4gICAgZ2V0U3ltYm9sUHJpY2U6ICgpID0+IHt9LFxuICAgIGdldENhbmRsZTogKCkgPT4ge30sXG4gICAgZ2V0VGljazogKCkgPT4ge30sXG4gICAgZ2V0Qm9vazogKCkgPT4ge30sXG4gICAgc2F2ZVVwdGltZTogKCkgPT4ge30sXG4gICAgd2FpdFN5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgdW5zdWJzY3JpYmU6ICgpID0+IHt9LFxuICB9O1xuXG4gIGxldCBjb25uZWN0aW9uUmVnaXN0cnkgPSB7XG4gICAgY29ubmVjdDogKCkgPT4ge30sXG4gICAgcmVtb3ZlOiAoKSA9PiB7fSxcbiAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknXG4gIH07XG5cbiAgYmVmb3JlKCgpID0+IHtcbiAgICBzYW5kYm94ID0gc2lub24uY3JlYXRlU2FuZGJveCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBhY2NvdW50ID0ge1xuICAgICAgaWQ6ICdhY2NvdW50SWQnLCBcbiAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgcmVsb2FkOiAoKSA9PiB7fVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKEhpc3RvcnlGaWxlTWFuYWdlci5wcm90b3R5cGUsICdzdGFydFVwZGF0ZUpvYicpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCBhY2NvdW50LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgc2FuZGJveC5yZXN0b3JlKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0QWNjb3VudEluZm9ybWF0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBhY2NvdW50IGluZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBhY2NvdW50SW5mb3JtYXRpb24gPSB7XG4gICAgICBicm9rZXI6ICdUcnVlIEVDTiBUcmFkaW5nIEx0ZCcsXG4gICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgIGJhbGFuY2U6IDczMTkuOSxcbiAgICAgIGVxdWl0eTogNzMwNi42NDk5MTMyMDAwMDEsXG4gICAgICBtYXJnaW46IDE4NC4xLFxuICAgICAgZnJlZU1hcmdpbjogNzEyMC4yMixcbiAgICAgIGxldmVyYWdlOiAxMDAsXG4gICAgICBtYXJnaW5MZXZlbDogMzk2Ny41ODI4MzU0MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEFjY291bnRJbmZvcm1hdGlvbicpLnJlc29sdmVzKGFjY291bnRJbmZvcm1hdGlvbik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50SW5mb3JtYXRpb24oKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGFjY291bnRJbmZvcm1hdGlvbik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnRJbmZvcm1hdGlvbiwgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFBvc2l0aW9uc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgcG9zaXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBwb3NpdGlvbnMgPSBbe1xuICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICB0eXBlOiAnUE9TSVRJT05fVFlQRV9CVVknLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgdXBkYXRlVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgb3BlblByaWNlOiAxLjI2MTAxLFxuICAgICAgY3VycmVudFByaWNlOiAxLjI0ODgzLFxuICAgICAgY3VycmVudFRpY2tWYWx1ZTogMSxcbiAgICAgIHZvbHVtZTogMC4wNyxcbiAgICAgIHN3YXA6IDAsXG4gICAgICBwcm9maXQ6IC04NS4yNTk5OTk5OTk5OTk2NixcbiAgICAgIGNvbW1pc3Npb246IC0wLjI1LFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICBzdG9wTG9zczogMS4xNzcyMSxcbiAgICAgIHVucmVhbGl6ZWRQcm9maXQ6IC04NS4yNTk5OTk5OTk5OTkwMSxcbiAgICAgIHJlYWxpemVkUHJvZml0OiAtNi41MzY5OTMxNjg5OTI5MjJlLTEzXG4gICAgfV07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldFBvc2l0aW9ucycpLnJlc29sdmVzKHBvc2l0aW9ucyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRQb3NpdGlvbnMoKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHBvc2l0aW9ucyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldFBvc2l0aW9ucywgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBwb3NpdGlvbiBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgcG9zaXRpb24gPSB7XG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICBjdXJyZW50VGlja1ZhbHVlOiAxLFxuICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgc3dhcDogMCxcbiAgICAgIHByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTY2LFxuICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIHN0b3BMb3NzOiAxLjE3NzIxLFxuICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRQb3NpdGlvbicpLnJlc29sdmVzKHBvc2l0aW9uKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFBvc2l0aW9uKCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gocG9zaXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRQb3NpdGlvbiwgJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldE9yZGVyc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgb3JkZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBvcmRlcnMgPSBbe1xuICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMDMsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICBjdXJyZW50Vm9sdW1lOiAwLjAxLFxuICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgIH1dO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRPcmRlcnMnKS5yZXNvbHZlcyhvcmRlcnMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0T3JkZXJzKCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRPcmRlcnMsICdhY2NvdW50SWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgb3JkZXIgYnkgaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IG9yZGVyID0ge1xuICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMDMsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICBjdXJyZW50Vm9sdW1lOiAwLjAxLFxuICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldE9yZGVyJykucmVzb2x2ZXMob3JkZXIpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0T3JkZXIoJzQ2ODcxMjg0Jyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldE9yZGVyLCAnYWNjb3VudElkJywgJzQ2ODcxMjg0Jyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0SGlzdG9yeU9yZGVyc0J5VGlja2V0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IG9yZGVycyBieSB0aWNrZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGhpc3RvcnlPcmRlcnMgPSB7XG4gICAgICBoaXN0b3J5T3JkZXJzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dLFxuICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQnKS5yZXNvbHZlcyhoaXN0b3J5T3JkZXJzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldEhpc3RvcnlPcmRlcnNCeVRpY2tldCgnNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGhpc3RvcnlPcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQsICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBvcmRlcnMgYnkgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGhpc3RvcnlPcmRlcnMgPSB7XG4gICAgICBoaXN0b3J5T3JkZXJzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dLFxuICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbicpLnJlc29sdmVzKGhpc3RvcnlPcmRlcnMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb24oJzQ2MjE0NjkyJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChoaXN0b3J5T3JkZXJzKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb24sICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2V9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGhpc3Rvcnkgb3JkZXJzIGJ5IHRpbWUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGhpc3RvcnlPcmRlcnMgPSB7XG4gICAgICBoaXN0b3J5T3JkZXJzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dLFxuICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2UnKS5yZXNvbHZlcyhoaXN0b3J5T3JkZXJzKTtcbiAgICBsZXQgc3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDApO1xuICAgIGxldCBlbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZShzdGFydFRpbWUsIGVuZFRpbWUsIDEsIDEwMCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChoaXN0b3J5T3JkZXJzKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0SGlzdG9yeU9yZGVyc0J5VGltZVJhbmdlLCAnYWNjb3VudElkJywgc3RhcnRUaW1lLCBlbmRUaW1lLCAxLCAxMDApO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldERlYWxzQnlUaWNrZXR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGhpc3RvcnkgZGVhbHMgYnkgdGlja2V0JywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBkZWFscyA9IHtcbiAgICAgIGRlYWxzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgICBpZDogJzMzMjMwMDk5JyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgb3JkZXJJZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICAgIHByb2ZpdDogMCxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICB0eXBlOiAnREVBTF9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldERlYWxzQnlUaWNrZXQnKS5yZXNvbHZlcyhkZWFscyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXREZWFsc0J5VGlja2V0KCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goZGVhbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXREZWFsc0J5VGlja2V0LCAnYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0RGVhbHNCeVBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IGRlYWxzIGJ5IHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBkZWFscyA9IHtcbiAgICAgIGRlYWxzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgICBpZDogJzMzMjMwMDk5JyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgb3JkZXJJZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICAgIHByb2ZpdDogMCxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICB0eXBlOiAnREVBTF9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldERlYWxzQnlQb3NpdGlvbicpLnJlc29sdmVzKGRlYWxzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldERlYWxzQnlQb3NpdGlvbignNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGRlYWxzKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0RGVhbHNCeVBvc2l0aW9uLCAnYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0RGVhbHNCeVRpbWVSYW5nZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBkZWFscyBieSB0aW1lIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBkZWFscyA9IHtcbiAgICAgIGRlYWxzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgICBpZDogJzMzMjMwMDk5JyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgb3JkZXJJZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICAgIHByb2ZpdDogMCxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICB0eXBlOiAnREVBTF9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldERlYWxzQnlUaW1lUmFuZ2UnKS5yZXNvbHZlcyhkZWFscyk7XG4gICAgbGV0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwKTtcbiAgICBsZXQgZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXREZWFsc0J5VGltZVJhbmdlKHN0YXJ0VGltZSwgZW5kVGltZSwgMSwgMTAwKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGRlYWxzKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0RGVhbHNCeVRpbWVSYW5nZSwgJ2FjY291bnRJZCcsIHN0YXJ0VGltZSwgZW5kVGltZSwgMSwgMTAwKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNyZW1vdmVIaXN0b3J5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZW1vdmUgaGlzdG9yeScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVtb3ZlSGlzdG9yeScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGFwaS5oaXN0b3J5U3RvcmFnZSwgJ2NsZWFyJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkucmVtb3ZlSGlzdG9yeSgnYXBwJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZUhpc3RvcnksICdhY2NvdW50SWQnLCAnYXBwJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoYXBpLmhpc3RvcnlTdG9yYWdlLmNsZWFyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNyZW1vdmVBcHBsaWNhdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIGFwcGxpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdyZW1vdmVBcHBsaWNhdGlvbicpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGFwaS5oaXN0b3J5U3RvcmFnZSwgJ2NsZWFyJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkucmVtb3ZlQXBwbGljYXRpb24oKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVtb3ZlQXBwbGljYXRpb24sICdhY2NvdW50SWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShhcGkuaGlzdG9yeVN0b3JhZ2UuY2xlYXIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZU1hcmtldEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbWFya2V0IGJ1eSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTWFya2V0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZJywgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHZvbHVtZTogMC4wNywgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZU1hcmtldEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbWFya2V0IGJ1eSBvcmRlciB3aXRoIHJlbGF0aXZlIFNML1RQJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVNYXJrZXRCdXlPcmRlcignR0JQVVNEJywgMC4wNywge3ZhbHVlOiAwLjEsIHVuaXRzOiAnUkVMQVRJVkVfUFJJQ0UnfSxcbiAgICAgIHt2YWx1ZTogMjAwMCwgdW5pdHM6ICdSRUxBVElWRV9QT0lOVFMnfSwge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZJywgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHZvbHVtZTogMC4wNywgc3RvcExvc3M6IDAuMSwgc3RvcExvc3NVbml0czogJ1JFTEFUSVZFX1BSSUNFJywgdGFrZVByb2ZpdDogMjAwMCxcbiAgICAgIHRha2VQcm9maXRVbml0czogJ1JFTEFUSVZFX1BPSU5UUycsIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTWFya2V0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbWFya2V0IHNlbGwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZU1hcmtldFNlbGxPcmRlcignR0JQVVNEJywgMC4wNywgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJywgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHZvbHVtZTogMC4wNywgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45LCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZUxpbWl0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBsaW1pdCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZUxpbWl0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuMCwgMC45LCAyLjAsIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuMCwgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVMaW1pdFNlbGxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIGxpbWl0IHNlbGwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZUxpbWl0U2VsbE9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjUsIDIuMCwgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTF9MSU1JVCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS41LCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjksIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZVN0b3BCdXlPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIHN0b3AgYnV5IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVTdG9wQnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuNSwgMC45LCAyLjAsIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVlfU1RPUCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS41LCBzdG9wTG9zczogMC45LCB0YWtlUHJvZml0OiAyLjAsIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZVN0b3BTZWxsT3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBzdG9wIHNlbGwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcFNlbGxPcmRlcignR0JQVVNEJywgMC4wNywgMS4wLCAyLjAsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTExfU1RPUCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS4wLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjksIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZVN0b3BMaW1pdEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBsaW1pdCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZVN0b3BMaW1pdEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjUsIDEuNCwgMC45LCAyLjAsIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVlfU1RPUF9MSU1JVCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS41LCBzdG9wTGltaXRQcmljZTogMS40LCBzdG9wTG9zczogMC45LCB0YWtlUHJvZml0OiAyLjAsXG4gICAgICBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZVN0b3BMaW1pdFNlbGxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIHN0b3AgbGltaXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVTdG9wTGltaXRTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuMCwgMS4xLCAyLjAsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTExfU1RPUF9MSU1JVCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS4wLCBzdG9wTGltaXRQcmljZTogMS4xLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjksXG4gICAgICBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI21vZGlmeVBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtb2RpZnkgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkubW9kaWZ5UG9zaXRpb24oJzQ2ODcwNDcyJywgMi4wLCAwLjkpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fTU9ESUZZJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOX0pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjbG9zZVBvc2l0aW9uUGFydGlhbGx5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjbG9zZSBwb3NpdGlvbiBwYXJ0aWFsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VQb3NpdGlvblBhcnRpYWxseSgnNDY4NzA0NzInLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fUEFSVElBTCcsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLCB2b2x1bWU6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjbG9zZVBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjbG9zZSBwb3NpdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZVBvc2l0aW9uKCc0Njg3MDQ3MicsIHtjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdQT1NJVElPTl9DTE9TRV9JRCcsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlQnl9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uIGJ5IGFuIG9wcG9zaXRlIG9uZScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLFxuICAgICAgY2xvc2VCeVBvc2l0aW9uSWQ6ICc0Njg3MDQ4MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNsb3NlQnkoJzQ2ODcwNDcyJywgJzQ2ODcwNDgyJywge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OX0NMT1NFX0JZJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIGNsb3NlQnlQb3NpdGlvbklkOiAnNDY4NzA0ODInLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb25zQnlTeW1ib2x9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9ucyBieSBzeW1ib2wnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VQb3NpdGlvbnNCeVN5bWJvbCgnRVVSVVNEJywge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OU19DTE9TRV9TWU1CT0wnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNtb2RpZnlPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgbW9kaWZ5IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLm1vZGlmeU9yZGVyKCc0Njg3MDQ3MicsIDEuMCwgMi4wLCAwLjkpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfTU9ESUZZJywgb3JkZXJJZDogJzQ2ODcwNDcyJyxcbiAgICAgIG9wZW5QcmljZTogMS4wLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjl9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY2FuY2VsT3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNhbmNlbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jYW5jZWxPcmRlcignNDY4NzA0NzInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX0NBTkNFTCcsIG9yZGVySWQ6ICc0Njg3MDQ3Mid9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jcmVjb25uZWN0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZWNvbm5lY3QgdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlY29ubmVjdCcpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLnJlY29ubmVjdCgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZWNvbm5lY3QsICdhY2NvdW50SWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzdWJzY3JpYmV9XG4gICAqL1xuICBkZXNjcmliZSgnZW5zdXJlIHN1YnNjcmliZScsICgpID0+IHtcblxuICAgIGxldCBjbG9jaztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgY2xvY2sgPSBzaW5vbi51c2VGYWtlVGltZXJzKHtcbiAgICAgICAgc2hvdWxkQWR2YW5jZVRpbWU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsb2NrLnJlc3RvcmUoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzdWJzY3JpYmV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBzdWJzY3JpYmUgdG8gdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZW5zdXJlU3Vic2NyaWJlJykucmVzb2x2ZXMoKTtcbiAgICAgIGF3YWl0IGFwaS5zdWJzY3JpYmUoKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5lbnN1cmVTdWJzY3JpYmUsICdhY2NvdW50SWQnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N5bmNocm9uaXplfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBub3Qgc3Vic2NyaWJlIGlmIGNvbm5lY3Rpb24gaXMgY2xvc2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGVuc3VyZVN1YnNjcmliZVN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50LCAnZW5zdXJlU3Vic2NyaWJlJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkuY2xvc2UoKTtcbiAgICBhd2FpdCBhcGkuc3Vic2NyaWJlKCk7XG4gICAgc2lub24uYXNzZXJ0Lm5vdENhbGxlZChlbnN1cmVTdWJzY3JpYmVTdHViKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzeW5jaHJvbml6ZX1cbiAgICovXG4gIGl0KCdzaG91bGQgc3luY2hyb25pemUgc3RhdGUgd2l0aCB0ZXJtaW5hbCcsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3luY2hyb25pemUnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5zeW5jaHJvbml6ZSgnMTpwcy1tcGEtMScpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5zeW5jaHJvbml6ZSwgJ2FjY291bnRJZCcsIDEsICdwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyksIG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3luY2hyb25pemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHN5bmNocm9uaXplIHN0YXRlIHdpdGggdGVybWluYWwgZnJvbSBzcGVjaWZpZWQgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3luY2hyb25pemUnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5LFxuICAgICAgbmV3IERhdGUoJzIwMjAtMTAtMDdUMDA6MDA6MDAuMDAwWicpKTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5zeW5jaHJvbml6ZSgnMTpwcy1tcGEtMScpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5zeW5jaHJvbml6ZSwgJ2FjY291bnRJZCcsIDEsICdwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICBuZXcgRGF0ZSgnMjAyMC0xMC0wN1QwMDowMDowMC4wMDBaJyksIG5ldyBEYXRlKCcyMDIwLTEwLTA3VDAwOjAwOjAwLjAwMFonKSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3Vic2NyaWJlVG9NYXJrZXREYXRhfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzdWJzY3JpYmUgdG8gbWFya2V0IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N1YnNjcmliZVRvTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgbGV0IHByb21pc2UgPSBhcGkuc3Vic2NyaWJlVG9NYXJrZXREYXRhKCdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0sIDEpO1xuICAgIGFwaS50ZXJtaW5hbFN0YXRlLm9uU3ltYm9sUHJpY2VzVXBkYXRlZCgnMTpwcy1tcGEtMScsIFt7dGltZTogbmV3IERhdGUoKSwgc3ltYm9sOiAnRVVSVVNEJywgYmlkOiAxLCBhc2s6IDEuMX1dKTtcbiAgICBhd2FpdCBwcm9taXNlO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5zdWJzY3JpYmVUb01hcmtldERhdGEsICdhY2NvdW50SWQnLCAxLCAnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ31dKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN1bnN1YnNjcmliZUZyb21NYXJrZXREYXRhfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBmcm9tIG1hcmtldCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd1bnN1YnNjcmliZUZyb21NYXJrZXREYXRhJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkudW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ31dLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YSwgJ2FjY291bnRJZCcsIDEsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnb25TdWJzY3JpcHRpb25Eb3duZ3JhZGUnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25TdWJzY3JpcHRpb25Eb3duZ3JhZGV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBkdXJpbmcgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9uIGRvd25ncmFkZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihhcGksICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgYXdhaXQgYXBpLm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCgnMTpwcy1tcGEtMScsICdFVVJVU0QnLCB1bmRlZmluZWQsIFt7dHlwZTogJ3RpY2tzJ30sIHt0eXBlOiAnYm9va3MnfV0pO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEsICdFVVJVU0QnLCBbe3R5cGU6ICd0aWNrcyd9LCB7dHlwZTogJ2Jvb2tzJ31dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25TdWJzY3JpcHRpb25Eb3duZ3JhZGV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9uIG9uIGRvd25ncmFkZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihhcGksICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgICAgYXdhaXQgYXBpLm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCgnMTpwcy1tcGEtMScsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnLCBpbnRlcnZhbEluTWlsbGlzZWNvbmRzOiAzMDAwMH1dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnLCBpbnRlcnZhbEluTWlsbGlzZWNvbmRzOiAzMDAwMH1dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoYXBpLnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0U3ltYm9sc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgc3ltYm9scycsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgc3ltYm9scyA9IFsnRVVSVVNEJ107XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldFN5bWJvbHMnKS5yZXNvbHZlcyhzeW1ib2xzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFN5bWJvbHMoKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHN5bWJvbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xzLCAnYWNjb3VudElkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0U3ltYm9sU3BlY2lmaWNhdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgc3ltYm9sIHNwZWNpZmljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNwZWNpZmljYXRpb24gPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdGlja1NpemU6IDAuMDAwMDEsXG4gICAgICBtaW5Wb2x1bWU6IDAuMDEsXG4gICAgICBtYXhWb2x1bWU6IDEwMCxcbiAgICAgIHZvbHVtZVN0ZXA6IDAuMDFcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xTcGVjaWZpY2F0aW9uJykucmVzb2x2ZXMoc3BlY2lmaWNhdGlvbik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHNwZWNpZmljYXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uLCAnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFN5bWJvbFByaWNlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBzeW1ib2wgcHJpY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHByaWNlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIGJpZDogMS4wNTI5NyxcbiAgICAgIGFzazogMS4wNTMwOSxcbiAgICAgIHByb2ZpdFRpY2tWYWx1ZTogMC41OTczMSxcbiAgICAgIGxvc3NUaWNrVmFsdWU6IDAuNTk3MzZcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xQcmljZScpLnJlc29sdmVzKHByaWNlKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFN5bWJvbFByaWNlKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHByaWNlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0U3ltYm9sUHJpY2UsICdhY2NvdW50SWQnLCAnQVVETlpEJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0Q2FuZGxlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBjdXJyZW50IGNhbmRsZScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgY2FuZGxlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpbWVmcmFtZTogJzE1bScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgb3BlbjogMS4wMzI5NyxcbiAgICAgIGhpZ2g6IDEuMDYzMDksXG4gICAgICBsb3c6IDEuMDI3MDUsXG4gICAgICBjbG9zZTogMS4wNDMsXG4gICAgICB0aWNrVm9sdW1lOiAxNDM1LFxuICAgICAgc3ByZWFkOiAxNyxcbiAgICAgIHZvbHVtZTogMzQ1XG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0Q2FuZGxlJykucmVzb2x2ZXMoY2FuZGxlKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldENhbmRsZSgnQVVETlpEJywgJzE1bScpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goY2FuZGxlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0Q2FuZGxlLCAnYWNjb3VudElkJywgJ0FVRE5aRCcsICcxNW0nKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRUaWNrfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBsYXRlc3QgdGljaycsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdGljayA9IHtcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgYmlkOiAxLjA1Mjk3LFxuICAgICAgYXNrOiAxLjA1MzA5LFxuICAgICAgbGFzdDogMC41Mjk4LFxuICAgICAgdm9sdW1lOiAwLjEzLFxuICAgICAgc2lkZTogJ2J1eSdcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRUaWNrJykucmVzb2x2ZXModGljayk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRUaWNrKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRpY2spO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRUaWNrLCAnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEJvb2t9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGxhdGVzdCBvcmRlciBib29rJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBib29rID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTA3VDAzOjQ1OjAwLjAwMFonKSxcbiAgICAgIGJyb2tlclRpbWU6ICcyMDIwLTA0LTA3IDA2OjQ1OjAwLjAwMCcsXG4gICAgICBib29rOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnQk9PS19UWVBFX1NFTEwnLFxuICAgICAgICAgIHByaWNlOiAxLjA1MzA5LFxuICAgICAgICAgIHZvbHVtZTogNS42N1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ0JPT0tfVFlQRV9CVVknLFxuICAgICAgICAgIHByaWNlOiAxLjA1Mjk3LFxuICAgICAgICAgIHZvbHVtZTogMy40NVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0Qm9vaycpLnJlc29sdmVzKGJvb2spO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0Qm9vaygnQVVETlpEJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChib29rKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0Qm9vaywgJ2FjY291bnRJZCcsICdBVUROWkQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNzYXZlVXB0aW1lfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzYXZlIHVwdGltZSBzdGF0cyB0byB0aGUgc2VydmVyJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzYXZlVXB0aW1lJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkuc2F2ZVVwdGltZSh7JzFoJzogMTAwfSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnNhdmVVcHRpbWUsICdhY2NvdW50SWQnLCB7JzFoJzogMTAwfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jdGVybWluYWxTdGF0ZX1cbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2hpc3RvcnlTdG9yYWdlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIGxpc3RlbmVycywgdGVybWluYWwgc3RhdGUgYW5kIGhpc3Rvcnkgc3RvcmFnZSBmb3IgYWNjb3VudHMgd2l0aCB1c2VyIHN5bmNoIG1vZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgc2hvdWxkLmV4aXN0KGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaG91bGQuZXhpc3QoYXBpLmhpc3RvcnlTdG9yYWdlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkuaGlzdG9yeVN0b3JhZ2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBhZGQgc3luY2hyb25pemF0aW9uIGxpc3RlbmVycycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBsZXQgbGlzdGVuZXIgPSB7fTtcbiAgICBhcGkuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNyZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lcn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIHN5bmNocm9uaXphdGlvbiBsaXN0ZW5lcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgbGV0IGxpc3RlbmVyID0ge307XG4gICAgYXBpLnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25Db25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHN5Y2hyb25pemUgb24gY29ubmVjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3luY2hyb25pemUnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDEpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJykpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gaWYgY29ubmVjdGlvbiBoYXMgZmFpbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJyk7XG4gICAgc3R1Yi5vbkZpcnN0Q2FsbCgpLnRocm93cyhuZXcgRXJyb3IoJ3Rlc3QgZXJyb3InKSk7XG4gICAgc3R1Yi5vblNlY29uZENhbGwoKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IE1ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwge2lkOiAnYWNjb3VudElkJ30sIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhd2FpdCBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgnMTpwcy1tcGEtMScsIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCcxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDEpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJykpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBub3Qgc3luY2hyb25pemUgaWYgY29ubmVjdGlvbiBpcyBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHN5bmNocm9uaXplU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQsICdzeW5jaHJvbml6ZScpO1xuICAgIGFwaSA9IG5ldyBNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIHtpZDogJ2FjY291bnRJZCd9LCB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgYXdhaXQgYXBpLmhpc3RvcnlTdG9yYWdlLm9uSGlzdG9yeU9yZGVyQWRkZWQoJzE6cHMtbXBhLTEnLCB7ZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5oaXN0b3J5U3RvcmFnZS5vbkRlYWxBZGRlZCgnMTpwcy1tcGEtMScsIHt0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhd2FpdCBhcGkuY2xvc2UoKTtcbiAgICBhd2FpdCBhcGkub25Db25uZWN0ZWQoJzE6cHMtbXBhLTEnLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKHN5bmNocm9uaXplU3R1Yik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25Db25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlc3RvcmUgbWFya2V0IGRhdGEgc3Vic2NyaXB0aW9ucyBvbiBzeW5jaHJvbml6YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGNhbGxDb3VudCA9IDA7XG4gICAgc2FuZGJveC5zdHViKGFwaS50ZXJtaW5hbFN0YXRlLCAncHJpY2UnKS5jYWxsc0Zha2UoKHN5bWJvbCkgPT4ge1xuICAgICAgY2FsbENvdW50Kys7XG4gICAgICBpZiAoY2FsbENvdW50ID09PSA2KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4ge3N5bWJvbH07XG4gICAgfSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJyk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnQVVETlpEJyk7XG4gICAgY29uc3Qgc3Vic2NyaWJlU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQsICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5vbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQoJzE6cHMtbXBhLTEnLCB7fSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChzdWJzY3JpYmVTdHViLCAxKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChzdWJzY3JpYmVTdHViLCAnYWNjb3VudElkJywgMSwgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBmcm9tIGV2ZW50cyBvbiBjbG9zZScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd1bnN1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNvbm5lY3Rpb25SZWdpc3RyeSwgJ3JlbW92ZScpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCB7aWQ6ICdhY2NvdW50SWQnfSwgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGF3YWl0IGFwaS5jbG9zZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51bnN1YnNjcmliZSwgJ2FjY291bnRJZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgYXBpLnRlcm1pbmFsU3RhdGUpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaS5oaXN0b3J5U3RvcmFnZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LnJlbW92ZSwgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICBkZXNjcmliZSgnd2FpdFN5bmNocm9uaXplZCcsICgpID0+IHtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgd2FpdCB1dGlsIHN5bmNocm9uaXphdGlvbiBjb21wbGV0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICd3YWl0U3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoJzE6cHMtbXBhLTEnKSwgZmFsc2UpO1xuICAgICAgKGF3YWl0IGFwaS5pc1N5bmNocm9uaXplZCgpKS5zaG91bGQuZXF1YWwoZmFsc2UpO1xuICAgICAgbGV0IHByb21pc2UgPSBhcGkud2FpdFN5bmNocm9uaXplZCh7YXBwbGljYXRpb25QYXR0ZXJuOiAnYXBwLionLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJyxcbiAgICAgICAgdGltZW91dEluU2Vjb25kczogMSwgaW50ZXJ2YWxJbk1pbGxpc2Vjb25kczogMTB9KTtcbiAgICAgIGxldCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtwcm9taXNlLCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSldKTtcbiAgICAgIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKS5zaG91bGQuYmUuYXBwcm94aW1hdGVseSg1MCwgMTApO1xuICAgICAgYXBpLm9uT3JkZXJTeW5jaHJvbml6YXRpb25GaW5pc2hlZCgnMTpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgICAgYXBpLm9uRGVhbFN5bmNocm9uaXphdGlvbkZpbmlzaGVkKCcxOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKS5zaG91bGQuYmUuYXBwcm94aW1hdGVseSgxMCwgMTApO1xuICAgICAgKGF3YWl0IGFwaS5pc1N5bmNocm9uaXplZCgnMTpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jd2FpdFN5bmNocm9uaXplZH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHRpbWUgb3V0IHdhaXRpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBjb21wbGV0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFwaS53YWl0U3luY2hyb25pemVkKHthcHBsaWNhdGlvblBhdHRlcm46ICdhcHAuKicsIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgICAgIHRpbWVvdXRJblNlY29uZHM6IDEsIGludGVydmFsSW5NaWxsaXNlY29uZHM6IDEwfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGlzIGV4cGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdUaW1lb3V0RXJyb3InKTtcbiAgICAgIH1cbiAgICAgIChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoJ3N5bmNocm9uaXphdGlvbklkJykpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNpbml0aWFsaXplfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBsb2FkIGRhdGEgdG8gaGlzdG9yeSBzdG9yYWdlIGZyb20gZGlzaycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoYXBpLmhpc3RvcnlTdG9yYWdlLCAnaW5pdGlhbGl6ZScpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLmluaXRpYWxpemUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShhcGkuaGlzdG9yeVN0b3JhZ2UuaW5pdGlhbGl6ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25EaXNjb25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHNldCBzeW5jaHJvbml6ZWQgZmFsc2Ugb24gZGlzY29ubmVjdCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkub25Db25uZWN0ZWQoJzE6cHMtbXBhLTEnLCAyKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zeW5jaHJvbml6ZWQsIHRydWUpO1xuICAgIGF3YWl0IGFwaS5vbkRpc2Nvbm5lY3RlZCgnMTpwcy1tcGEtMScpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3luY2hyb25pemVkLCBmYWxzZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25EaXNjb25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIGRlbGV0ZSBzdGF0ZSBpZiBzdHJlYW0gY2xvc2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgnMTpwcy1tcGEtMScsIDIpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN5bmNocm9uaXplZCwgdHJ1ZSk7XG4gICAgYXdhaXQgYXBpLm9uU3RyZWFtQ2xvc2VkKCcxOnBzLW1wYS0xJyk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zeW5jaHJvbml6ZWQsIGZhbHNlKTtcbiAgfSk7XG5cbn0pO1xuIl19